<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Show Typeclass - Quick Reference - Cure Documentation</title>
    <meta name="description" content=" Import">
    <link rel="icon" type="image/png" href="../media/logo-128x128.png">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <!-- Header -->
    <header class="site-header">
        <div class="nav-container">
            <div class="logo-section">
                <img src="../media/logo-128x128.png" alt="Cure Logo" class="logo">
                <div>
                    <h1 class="site-title">Cure</h1>
                    <p class="site-tagline">Verification-First Programming</p>
                </div>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="../docs.html">Documentation</a></li>
                    <li><a href="../api/index.html">API Reference</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <div class="doc-page">
        <div class="doc-nav">
            <a href="../docs.html">← Back to Documentation</a>
        </div>
        
        <h1 id="show-typeclass-quick-reference">Show Typeclass - Quick Reference</h1>
<h2 id="import">Import</h2>
<div class="codehilite"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">Std.Show</span><span class="w"> </span><span class="p">[</span><span class="n">Show</span><span class="p">,</span><span class="w"> </span><span class="n">show</span><span class="p">,</span><span class="w"> </span><span class="n">show_list</span><span class="p">,</span><span class="w"> </span><span class="n">show_separated</span><span class="p">]</span>
</code></pre></div>

<h2 id="define-custom-instance">Define Custom Instance</h2>
<h3 id="for-simple-records">For Simple Records</h3>
<div class="codehilite"><pre><span></span><code>record Person do
  name: String
  age: Int
end

instance Show(Person) do
  def show(p: Person): String =
    string_concat(&quot;Person { name: &quot;,
      string_concat(show(p.name),
        string_concat(&quot;, age: &quot;,
          string_concat(show(p.age), &quot; }&quot;))))
end
</code></pre></div>

<h3 id="for-generic-types">For Generic Types</h3>
<div class="codehilite"><pre><span></span><code>record Point(T) do
  x: T
  y: T
end

instance Show(Point(T)) where Show(T) do
  def show(p: Point(T)): String =
    string_concat(&quot;Point(&quot;,
      string_concat(show(p.x),
        string_concat(&quot;, &quot;,
          string_concat(show(p.y), &quot;)&quot;))))
end
</code></pre></div>

<h3 id="for-union-types">For Union Types</h3>
<div class="codehilite"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nx">Color</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">Red</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">Green</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">Blue</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">RGB</span><span class="p">(</span><span class="nx">Int</span><span class="p">,</span><span class="w"> </span><span class="nx">Int</span><span class="p">,</span><span class="w"> </span><span class="nx">Int</span><span class="p">)</span>

<span class="nx">instance</span><span class="w"> </span><span class="nx">Show</span><span class="p">(</span><span class="nx">Color</span><span class="p">)</span><span class="w"> </span><span class="nx">do</span>
<span class="w">  </span><span class="nx">def</span><span class="w"> </span><span class="nx">show</span><span class="p">(</span><span class="nx">c</span><span class="p">:</span><span class="w"> </span><span class="nx">Color</span><span class="p">):</span><span class="w"> </span><span class="nx">String</span><span class="w"> </span><span class="p">=</span>
<span class="w">    </span><span class="k">match</span><span class="w"> </span><span class="nx">c</span><span class="w"> </span><span class="nx">do</span>
<span class="w">      </span><span class="nx">Red</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Red&quot;</span>
<span class="w">      </span><span class="nx">Green</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Green&quot;</span>
<span class="w">      </span><span class="nx">Blue</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Blue&quot;</span>
<span class="w">      </span><span class="nx">RGB</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="w"> </span><span class="nx">g</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">        </span><span class="nx">string_concat</span><span class="p">(</span><span class="s">&quot;RGB(&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nx">string_concat</span><span class="p">(</span><span class="nx">show</span><span class="p">(</span><span class="nx">r</span><span class="p">),</span>
<span class="w">            </span><span class="nx">string_concat</span><span class="p">(</span><span class="s">&quot;, &quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nx">string_concat</span><span class="p">(</span><span class="nx">show</span><span class="p">(</span><span class="nx">g</span><span class="p">),</span>
<span class="w">                </span><span class="nx">string_concat</span><span class="p">(</span><span class="s">&quot;, &quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nx">string_concat</span><span class="p">(</span><span class="nx">show</span><span class="p">(</span><span class="nx">b</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;)&quot;</span><span class="p">))))))</span>
<span class="w">    </span><span class="nx">end</span>
<span class="nx">end</span>
</code></pre></div>

<h3 id="for-recursive-types">For Recursive Types</h3>
<div class="codehilite"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nx">Tree</span><span class="p">(</span><span class="nx">T</span><span class="p">)</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nx">Leaf</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nx">Node</span><span class="p">(</span><span class="nx">T</span><span class="p">,</span><span class="w"> </span><span class="nx">Tree</span><span class="p">(</span><span class="nx">T</span><span class="p">),</span><span class="w"> </span><span class="nx">Tree</span><span class="p">(</span><span class="nx">T</span><span class="p">))</span>

<span class="nx">instance</span><span class="w"> </span><span class="nx">Show</span><span class="p">(</span><span class="nx">Tree</span><span class="p">(</span><span class="nx">T</span><span class="p">))</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="nx">Show</span><span class="p">(</span><span class="nx">T</span><span class="p">)</span><span class="w"> </span><span class="nx">do</span>
<span class="w">  </span><span class="nx">def</span><span class="w"> </span><span class="nx">show</span><span class="p">(</span><span class="nx">t</span><span class="p">:</span><span class="w"> </span><span class="nx">Tree</span><span class="p">(</span><span class="nx">T</span><span class="p">)):</span><span class="w"> </span><span class="nx">String</span><span class="w"> </span><span class="p">=</span>
<span class="w">    </span><span class="k">match</span><span class="w"> </span><span class="nx">t</span><span class="w"> </span><span class="nx">do</span>
<span class="w">      </span><span class="nx">Leaf</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;Leaf&quot;</span>
<span class="w">      </span><span class="nx">Node</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span><span class="w"> </span><span class="nx">left</span><span class="p">,</span><span class="w"> </span><span class="nx">right</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">        </span><span class="nx">string_concat</span><span class="p">(</span><span class="s">&quot;Node(&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nx">string_concat</span><span class="p">(</span><span class="nx">show</span><span class="p">(</span><span class="nx">value</span><span class="p">),</span>
<span class="w">            </span><span class="nx">string_concat</span><span class="p">(</span><span class="s">&quot;, &quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nx">string_concat</span><span class="p">(</span><span class="nx">show</span><span class="p">(</span><span class="nx">left</span><span class="p">),</span>
<span class="w">                </span><span class="nx">string_concat</span><span class="p">(</span><span class="s">&quot;, &quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nx">string_concat</span><span class="p">(</span><span class="nx">show</span><span class="p">(</span><span class="nx">right</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;)&quot;</span><span class="p">))))))</span>
<span class="w">    </span><span class="nx">end</span>
<span class="nx">end</span>
</code></pre></div>

<h2 id="use-in-generic-functions">Use in Generic Functions</h2>
<div class="codehilite"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="nx">Single</span><span class="w"> </span><span class="kd">constraint</span>
<span class="nx">def</span><span class="w"> </span><span class="nx">debug</span><span class="p">(</span><span class="nx">label</span><span class="p">:</span><span class="w"> </span><span class="nx">String</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="p">:</span><span class="w"> </span><span class="nx">T</span><span class="p">):</span><span class="w"> </span><span class="nx">T</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="nx">Show</span><span class="p">(</span><span class="nx">T</span><span class="p">)</span><span class="w"> </span><span class="p">=</span>
<span class="w">  </span><span class="nx">println</span><span class="p">(</span><span class="nx">string_concat</span><span class="p">(</span><span class="nx">label</span><span class="p">,</span><span class="w"> </span><span class="nx">string_concat</span><span class="p">(</span><span class="s">&quot;: &quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">show</span><span class="p">(</span><span class="nx">value</span><span class="p">))))</span>
<span class="w">  </span><span class="nx">value</span>

<span class="err">#</span><span class="w"> </span><span class="nx">Multiple</span><span class="w"> </span><span class="nx">constraints</span>
<span class="nx">def</span><span class="w"> </span><span class="nx">debug_compare</span><span class="p">(</span><span class="nx">a</span><span class="p">:</span><span class="w"> </span><span class="nx">T</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="p">:</span><span class="w"> </span><span class="nx">T</span><span class="p">):</span><span class="w"> </span><span class="nx">String</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="nx">Show</span><span class="p">(</span><span class="nx">T</span><span class="p">),</span><span class="w"> </span><span class="nx">Eq</span><span class="p">(</span><span class="nx">T</span><span class="p">)</span><span class="w"> </span><span class="p">=</span>
<span class="w">  </span><span class="nx">string_concat</span><span class="p">(</span><span class="nx">show</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="w"> </span><span class="nx">string_concat</span><span class="p">(</span><span class="s">&quot; vs &quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">show</span><span class="p">(</span><span class="nx">b</span><span class="p">)))</span>

<span class="err">#</span><span class="w"> </span><span class="nx">With</span><span class="w"> </span><span class="nx">container</span><span class="w"> </span><span class="nx">types</span>
<span class="nx">def</span><span class="w"> </span><span class="nx">print_list</span><span class="p">(</span><span class="nx">items</span><span class="p">:</span><span class="w"> </span><span class="nx">List</span><span class="p">(</span><span class="nx">T</span><span class="p">)):</span><span class="w"> </span><span class="nx">Int</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="nx">Show</span><span class="p">(</span><span class="nx">T</span><span class="p">)</span><span class="w"> </span><span class="p">=</span>
<span class="w">  </span><span class="nx">println</span><span class="p">(</span><span class="nx">show_list</span><span class="p">(</span><span class="nx">items</span><span class="p">))</span>
<span class="w">  </span><span class="mi">0</span>
</code></pre></div>

<h2 id="built-in-instances">Built-in Instances</h2>
<table>
<thead>
<tr>
<th>Type</th>
<th>Example</th>
<th>Output</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Int</code></td>
<td><code>show(42)</code></td>
<td><code>"42"</code></td>
</tr>
<tr>
<td><code>Float</code></td>
<td><code>show(3.14)</code></td>
<td><code>"3.14"</code></td>
</tr>
<tr>
<td><code>String</code></td>
<td><code>show("hi")</code></td>
<td><code>"\"hi\""</code></td>
</tr>
<tr>
<td><code>Bool</code></td>
<td><code>show(true)</code></td>
<td><code>"true"</code></td>
</tr>
<tr>
<td><code>Atom</code></td>
<td><code>show(:ok)</code></td>
<td><code>"ok"</code></td>
</tr>
<tr>
<td><code>List(T)</code></td>
<td><code>show([1,2,3])</code></td>
<td><code>"[1, 2, 3]"</code></td>
</tr>
<tr>
<td><code>Option(T)</code></td>
<td><code>show(Some(1))</code></td>
<td><code>"Some(1)"</code></td>
</tr>
<tr>
<td><code>Result(T,E)</code></td>
<td><code>show(Ok(1))</code></td>
<td><code>"Ok(1)"</code></td>
</tr>
<tr>
<td><code>{T1,T2}</code></td>
<td><code>show({1,"x"})</code></td>
<td><code>"{1, \"x\"}"</code></td>
</tr>
</tbody>
</table>
<h2 id="helper-functions">Helper Functions</h2>
<div class="codehilite"><pre><span></span><code><span class="gh">#</span> Custom separator
show_separated([1, 2, 3], &quot; | &quot;)  # =&gt; &quot;1 | 2 | 3&quot;

<span class="gh">#</span> With parentheses
show_with_parens(42)  # =&gt; &quot;(42)&quot;

<span class="gh">#</span> Direct list formatting
show_list([1, 2, 3])  # =&gt; &quot;[1, 2, 3]&quot;
</code></pre></div>

<h2 id="common-patterns">Common Patterns</h2>
<h3 id="debug-wrapper">Debug Wrapper</h3>
<div class="codehilite"><pre><span></span><code><span class="n">def</span><span class="w"> </span><span class="n">debug_value</span><span class="o">(</span><span class="n">x</span><span class="o">:</span><span class="w"> </span><span class="n">T</span><span class="o">):</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">Show</span><span class="o">(</span><span class="n">T</span><span class="o">)</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="n">println</span><span class="o">(</span><span class="n">show</span><span class="o">(</span><span class="n">x</span><span class="o">))</span>
<span class="w">  </span><span class="n">x</span>

<span class="o">#</span><span class="w"> </span><span class="n">Use</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">pipelines</span><span class="o">:</span>
<span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">compute</span><span class="bp">()</span>
<span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">debug_value</span><span class="w">  </span><span class="o">#</span><span class="w"> </span><span class="n">Prints</span><span class="w"> </span><span class="n">intermediate</span><span class="w"> </span><span class="n">value</span>
<span class="w">  </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">transform</span>
</code></pre></div>

<h3 id="assertion-with-context">Assertion with Context</h3>
<div class="codehilite"><pre><span></span><code>def assert_eq(actual: T, expected: T): Result((), String) 
  where Show(T), Eq(T) =
  if eq(actual, expected) then
    Ok(())
  else
    Error(string_concat(&quot;Expected &quot;, 
      string_concat(show(expected),
        string_concat(&quot; but got &quot;, show(actual)))))
</code></pre></div>

<h3 id="logging">Logging</h3>
<div class="codehilite"><pre><span></span><code>def log_info(msg: String, value: T): T where Show(T) =
  Logger.info(string_concat(msg, show(value)))
  value
</code></pre></div>

<h2 id="tips">Tips</h2>
<ol>
<li><strong>String Concatenation</strong>: Use <code>string_concat</code> for building strings</li>
<li><strong>Pattern Matching</strong>: Use <code>match</code> for union types</li>
<li><strong>Field Access</strong>: Use dot notation: <code>person.name</code></li>
<li><strong>Constraints</strong>: Add <code>where Show(T)</code> when using <code>show(x)</code> with generic <code>T</code></li>
<li><strong>Composition</strong>: Show instances compose automatically for nested types</li>
</ol>
<h2 id="common-mistakes">Common Mistakes</h2>
<p>❌ <strong>Forgetting constraint</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">def</span><span class="w"> </span><span class="n">bad_debug</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="w"> </span><span class="n">T</span><span class="p">):</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="o">=</span>
<span class="w">  </span><span class="n">println</span><span class="p">(</span><span class="n">show</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="w">  </span><span class="c1"># ERROR: T must have Show constraint</span>
<span class="w">  </span><span class="n">x</span>
</code></pre></div>

<p>✅ <strong>Adding constraint</strong></p>
<div class="codehilite"><pre><span></span><code>def good_debug(x: T): T where Show(T) =
  println(show(x))  # OK
  x
</code></pre></div>

<p>❌ <strong>Incomplete pattern matching</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">instance</span><span class="w"> </span><span class="n">Show</span><span class="p">(</span><span class="n">Option</span><span class="p">(</span><span class="n">T</span><span class="p">))</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">Show</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="w"> </span><span class="n">do</span>
<span class="w">  </span><span class="n">def</span><span class="w"> </span><span class="n">show</span><span class="p">(</span><span class="kr">opt</span><span class="o">:</span><span class="w"> </span><span class="n">Option</span><span class="p">(</span><span class="n">T</span><span class="p">))</span><span class="o">:</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="n">match</span><span class="w"> </span><span class="kr">opt</span><span class="w"> </span><span class="n">do</span>
<span class="w">      </span><span class="n">Some</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">show</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="w">      </span><span class="err">#</span><span class="w"> </span><span class="nf">ERROR</span><span class="o">:</span><span class="w"> </span><span class="n">Missing</span><span class="w"> </span><span class="n">None</span><span class="w"> </span><span class="kr">case</span>
<span class="w">    </span><span class="kd">end</span>
<span class="kd">end</span>
</code></pre></div>

<p>✅ <strong>Complete pattern matching</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">instance</span><span class="w"> </span><span class="n">Show</span><span class="p">(</span><span class="n">Option</span><span class="p">(</span><span class="n">T</span><span class="p">))</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">Show</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="w"> </span><span class="n">do</span>
<span class="w">  </span><span class="n">def</span><span class="w"> </span><span class="n">show</span><span class="p">(</span><span class="kr">opt</span><span class="o">:</span><span class="w"> </span><span class="n">Option</span><span class="p">(</span><span class="n">T</span><span class="p">))</span><span class="o">:</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="n">match</span><span class="w"> </span><span class="kr">opt</span><span class="w"> </span><span class="n">do</span>
<span class="w">      </span><span class="n">Some</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">string_concat</span><span class="p">(</span><span class="s">&quot;Some(&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">string_concat</span><span class="p">(</span><span class="n">show</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;)&quot;</span><span class="p">))</span>
<span class="w">      </span><span class="n">None</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="s">&quot;None&quot;</span>
<span class="w">    </span><span class="kd">end</span>
<span class="kd">end</span>
</code></pre></div>

<h2 id="see-also">See Also</h2>
<ul>
<li>Full documentation: <code>docs/SHOW_TYPECLASS.md</code></li>
<li>Complete examples: <code>examples/12_show_typeclass.cure</code></li>
<li>Implementation: <code>lib/std/show.cure</code></li>
</ul>
    </div>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Documentation</h4>
                <ul>
                    <li><a href="../docs.html">Getting Started</a></li>
                    <li><a href="language-spec.html">Language Specification</a></li>
                    <li><a href="type-system.html">Type System</a></li>
                    <li><a href="fsm-usage.html">FSM Guide</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>Reference</h4>
                <ul>
                    <li><a href="../api/index.html">API Reference</a></li>
                    <li><a href="std-summary.html">Standard Library</a></li>
                    <li><a href="feature-reference.html">Feature Reference</a></li>
                    <li><a href="cli-usage.html">CLI Usage</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h4>Resources</h4>
                <ul>
                    <li><a href="editor-setup.html">Editor Setup</a></li>
                    <li><a href="project-overview.html">Project Overview</a></li>
                    <li><a href="cure-ultimate-description.html">Ultimate Guide</a></li>
                </ul>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2025 Cure Programming Language. Verification-first programming for the BEAM.</p>
        </div>
    </footer>
</body>
</html>
