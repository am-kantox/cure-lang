/*
 * Nord Theme for highlight.js
 * Adapted for Cure language syntax highlighting
 * Based on https://www.nordtheme.com/
 * 
 * Nord Palette:
 * Polar Night: #2e3440, #3b4252, #434c5e, #4c566a
 * Snow Storm: #d8dee9, #e5e9f0, #eceff4
 * Frost: #8fbcbb, #88c0d0, #81a1c1, #5e81ac
 * Aurora: #bf616a, #d08770, #ebcb8b, #a3be8c, #b48ead
 */

/* Base styling */
.hljs {
  display: block;
  overflow-x: auto;
  padding: 1em;
  background: #2e3440;  /* nord0 - Polar Night darkest */
  color: #d8dee9;       /* nord4 - Snow Storm lightest */
  font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', monospace;
  line-height: 1.6;
}

/* Comments */
.hljs-comment,
.hljs-quote {
  color: #616e88;  /* Brightened nord3 for better visibility */
  font-style: italic;
}

/* Keywords (def, match, do, end, when, etc.) */
.hljs-keyword,
.hljs-selector-tag,
.hljs-literal,
.hljs-section,
.hljs-link {
  color: #81a1c1;  /* nord9 - Frost blue */
  font-weight: 600;
}

/* Built-in types and constants */
.hljs-built_in,
.hljs-type,
.hljs-class .hljs-title {
  color: #8fbcbb;  /* nord7 - Frost cyan */
  font-weight: 500;
}

/* Strings */
.hljs-string,
.hljs-title,
.hljs-section,
.hljs-attribute,
.hljs-selector-attr,
.hljs-selector-pseudo {
  color: #a3be8c;  /* nord14 - Aurora green */
}

/* Numbers and literals */
.hljs-number,
.hljs-literal {
  color: #b48ead;  /* nord15 - Aurora purple */
}

/* Function names */
.hljs-title.hljs-function,
.hljs-function > .hljs-title {
  color: #88c0d0;  /* nord8 - Frost cyan */
  font-weight: 600;
}

/* Variables and parameters */
.hljs-variable,
.hljs-attr,
.hljs-template-variable,
.hljs-params {
  color: #d8dee9;  /* nord4 - Snow Storm */
}

/* Operators */
.hljs-operator,
.hljs-punctuation {
  color: #81a1c1;  /* nord9 - Frost blue */
}

/* Symbols/atoms (:atom) */
.hljs-symbol,
.hljs-bullet,
.hljs-meta {
  color: #8fbcbb;  /* nord7 - Frost cyan */
}

/* Regex and special chars */
.hljs-regexp,
.hljs-char.escape_ {
  color: #ebcb8b;  /* nord13 - Aurora yellow */
}

/* Module/record/FSM names */
.hljs-title.hljs-class,
.hljs-class,
.hljs-type {
  color: #8fbcbb;  /* nord7 - Frost cyan */
  font-weight: 700;
}

/* Attributes and metadata */
.hljs-meta,
.hljs-meta-keyword {
  color: #5e81ac;  /* nord10 - Frost blue darkest */
  font-weight: 600;
}

/* Special emphasis */
.hljs-strong {
  font-weight: 700;
}

.hljs-emphasis {
  font-style: italic;
}

/* Deletion (for diffs) */
.hljs-deletion {
  color: #bf616a;  /* nord11 - Aurora red */
  background-color: #3b2c32;
}

/* Addition (for diffs) */
.hljs-addition {
  color: #a3be8c;  /* nord14 - Aurora green */
  background-color: #2e3d30;
}

/* Error highlighting */
.hljs-error {
  color: #bf616a;  /* nord11 - Aurora red */
  background-color: #3b2c32;
}

/* Language-specific: Cure FSM highlighting */
.language-cure .hljs-keyword[data-keyword*="fsm"],
.language-cure .hljs-keyword[data-keyword*="state"],
.language-cure .hljs-keyword[data-keyword*="transition"] {
  color: #b48ead;  /* nord15 - Aurora purple for FSM constructs */
  font-weight: 700;
}

/* Cure verification keywords */
.language-cure .hljs-keyword[data-keyword*="property"],
.language-cure .hljs-keyword[data-keyword*="invariant"],
.language-cure .hljs-keyword[data-keyword*="always"],
.language-cure .hljs-keyword[data-keyword*="eventually"] {
  color: #d08770;  /* nord12 - Aurora orange for verification */
  font-weight: 700;
}

/* Cure type system keywords */
.language-cure .hljs-keyword[data-keyword*="type"],
.language-cure .hljs-keyword[data-keyword*="typeclass"],
.language-cure .hljs-keyword[data-keyword*="instance"],
.language-cure .hljs-keyword[data-keyword*="derive"] {
  color: #88c0d0;  /* nord8 - Frost cyan for type constructs */
  font-weight: 700;
}

/* Refinement type constraints */
.language-cure .hljs-constraint {
  color: #ebcb8b;  /* nord13 - Aurora yellow */
  font-style: italic;
}

/* Cure-specific operators (arrows, pipes) */
.language-cure .hljs-operator:is([data-op*="-->"], [data-op*="|>"]) {
  color: #d08770;  /* nord12 - Aurora orange for special operators */
  font-weight: 600;
}
