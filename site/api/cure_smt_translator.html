<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.35.1">
    <meta name="project" content="cure v0.4.0">


    <title>cure_smt_translator — cure v0.4.0</title>
    <link rel="stylesheet" href="dist/html-erlang-4IXSOGMD.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-DC6CD34D.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-PVRIOB7F.js"></script>

  </head>
  <body data-type="modules" class="page-module">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

      <div>
        <a href="readme.html" class="sidebar-projectName" translate="no">
cure
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.4.0
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of cure</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/am-kantox/cure-lang/blob/v0.4.0/src/smt/cure_smt_translator.erl#L3" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

    <span translate="no">cure_smt_translator</span> 
    <small class="app-vsn" translate="no">(cure v0.4.0)</small>

  </h1>


    <section id="moduledoc">
<h1>Cure SMT-LIB Translator</h1><p>Translates Cure type constraints and expressions into SMT-LIB format
for consumption by external SMT solvers (Z3, CVC5).</p><h2 id="module-features" class="section-heading">
  <a href="#module-features" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Features</span>
</h2>
<ul><li>Full translation of Cure expressions to SMT-LIB s-expressions</li><li>Type mapping (Int, Nat, Bool, Float to SMT types)</li><li>Logic inference (QF_LIA, QF_LRA, etc.)</li><li>Variable declaration generation</li><li>Assertion generation from constraints</li></ul><h2 id="module-usage" class="section-heading">
  <a href="#module-usage" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Usage</span>
</h2>
<pre><code class="makeup erlang" translate="no"><span class="c1">% Translate a constraint to SMT-LIB query</span><span class="w">
</span><span class="n">Constraint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="ss">binary_op_expr</span><span class="p" data-group-id="1381095371-1">{</span><span class="ss">op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&#39;&gt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="ss">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">var</span><span class="p" data-group-id="1381095371-2">(</span><span class="ss">x</span><span class="p" data-group-id="1381095371-2">)</span><span class="p">,</span><span class="w"> </span><span class="ss">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">lit</span><span class="p" data-group-id="1381095371-3">(</span><span class="mi">0</span><span class="p" data-group-id="1381095371-3">)</span><span class="p" data-group-id="1381095371-1">}</span><span class="p">,</span><span class="w">
</span><span class="n">Env</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1381095371-4">#{</span><span class="ss">x</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="1381095371-5">{</span><span class="ss">type</span><span class="p">,</span><span class="w"> </span><span class="ss">int</span><span class="p" data-group-id="1381095371-5">}</span><span class="p" data-group-id="1381095371-4">}</span><span class="p">,</span><span class="w">
</span><span class="n">Query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">cure_smt_translator</span><span class="p">:</span><span class="nf">generate_query</span><span class="p" data-group-id="1381095371-6">(</span><span class="n">Constraint</span><span class="p">,</span><span class="w"> </span><span class="n">Env</span><span class="p" data-group-id="1381095371-6">)</span><span class="p">.</span><span class="w">
</span><span class="c1">% =&gt; \&quot;(set-logic QF_LIA)\\n(declare-const x Int)\\n(assert (&gt; x 0))\\n(check-sat)\\n\&quot;</span></code></pre>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-types summary">
  <h2>
    <a href="#types">Types</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:expr/0" data-no-tooltip translate="no">expr()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#t:smt_logic/0" data-no-tooltip translate="no">smt_logic()</a>

      </div>

    </div>

</div>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#collect_variables/2" data-no-tooltip translate="no">collect_variables(Constraint, Env)</a>

      </div>

        <div class="summary-synopsis"><p>Collect all variables from a constraint.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#declare_variable/2" data-no-tooltip translate="no">declare_variable(VarName, Env)</a>

      </div>

        <div class="summary-synopsis"><p>Generate SMT-LIB declaration for a variable.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#generate_constraint_check_query/3" data-no-tooltip translate="no">generate_constraint_check_query(ValueExpr, Predicate, Env)</a>

      </div>

        <div class="summary-synopsis"><p>Generate SMT-LIB query to check if a value satisfies a constraint.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#generate_query/2" data-no-tooltip translate="no">generate_query(Constraint, Env)</a>

      </div>

        <div class="summary-synopsis"><p>Generate a complete SMT-LIB query from a Cure constraint.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#generate_query/3" data-no-tooltip translate="no">generate_query(Constraint, Env, Opts)</a>

      </div>

        <div class="summary-synopsis"><p>Generate SMT-LIB query with options.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#generate_refinement_subtype_query/4" data-no-tooltip translate="no">generate_refinement_subtype_query(Pred1, Pred2, Var, BaseType)</a>

      </div>

        <div class="summary-synopsis"><p>Generate SMT-LIB query to check refinement type subtyping.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#infer_logic/1" data-no-tooltip translate="no">infer_logic(Constraint)</a>

      </div>

        <div class="summary-synopsis"><p>Infer the appropriate SMT-LIB logic for a constraint.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#translate_expr/1" data-no-tooltip translate="no">translate_expr(Expr)</a>

      </div>

        <div class="summary-synopsis"><p>Translate a Cure expression to SMT-LIB s-expression.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#translate_expr/2" data-no-tooltip translate="no">translate_expr/2</a>

      </div>

    </div>

</div>

  </section>


  <section id="types" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#types">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Types</span>
    </h1>
    <div class="types-list">
<section class="detail" id="t:expr/0">

  <div class="detail-header">
    <a href="#t:expr/0" class="detail-link" data-no-tooltip aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">expr()</h1>

      <a href="https://github.com/am-kantox/cure-lang/blob/v0.4.0/src/parser/cure_ast.hrl#L498" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> expr() ::
          #literal_expr{value :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()} |
          #identifier_expr{name :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()} |
          #function_call_expr{function :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), args :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()} |
          #match_expr{expr :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), patterns :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()} |
          #let_expr{bindings :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), body :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()} |
          #binary_op_expr{op :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), left :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), right :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()} |
          #unary_op_expr{op :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), operand :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()} |
          #list_expr{elements :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()} |
          #vector_expr{elements :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()} |
          #tuple_expr{elements :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()} |
          #record_expr{name :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), fields :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()} |
          #field_access_expr{record :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), field :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()} |
          #record_update_expr{name :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), base :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), fields :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()} |
          #lambda_expr{params :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), body :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()} |
          #forall_expr{variables :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), body :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()} |
          #exists_expr{variables :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), body :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()} |
          #fsm_spawn_expr{fsm_name :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(),
                          init_args :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(),
                          init_state :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(),
                          location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()} |
          #fsm_send_expr{target :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), message :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()} |
          #fsm_receive_expr{patterns :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), timeout :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(), location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()} |
          #fsm_state_expr{location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()} |
          #qualified_call_expr{trait_name :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(),
                               type_args :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(),
                               method_name :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(),
                               receiver :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(),
                               args :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>(),
                               location :: <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:term/0">term</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:smt_logic/0">

  <div class="detail-header">
    <a href="#t:smt_logic/0" class="detail-link" data-no-tooltip aria-label="Link to this type">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">smt_logic()</h1>

      <a href="https://github.com/am-kantox/cure-lang/blob/v0.4.0/src/smt/cure_smt_translator.erl#L47" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-type</span> smt_logic() :: 'QF_LIA' | 'QF_LRA' | 'QF_LIRA' | 'QF_NIA' | 'QF_NRA' | 'QF_UFLIA'.</pre>

      </div>


  </section>
</section>

    </div>
  </section>

  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="collect_variables/2">

  <div class="detail-header">
    <a href="#collect_variables/2" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">collect_variables(Constraint, Env)</h1>

      <a href="https://github.com/am-kantox/cure-lang/blob/v0.4.0/src/smt/cure_smt_translator.erl#L360" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> collect_variables(<a href="#t:expr/0">expr</a>(), <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:map/0">map</a>()) -> [<a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:atom/0">atom</a>()].</pre>

      </div>

<p>Collect all variables from a constraint.</p><p>Traverses the AST to find all variable references.</p><h2 id="collect_variables/2-arguments" class="section-heading">
  <a href="#collect_variables/2-arguments" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h2>
<ul><li><code class="inline">Constraint</code> - Cure AST expression</li><li><code class="inline">Env</code> - Environment (for type information)</li></ul><h2 id="collect_variables/2-returns" class="section-heading">
  <a href="#collect_variables/2-returns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Returns</span>
</h2>
<ul><li><code class="inline">[atom()]</code> - List of variable names (deduplicated)</li></ul>
  </section>
</section>
<section class="detail" id="declare_variable/2">

  <div class="detail-header">
    <a href="#declare_variable/2" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">declare_variable(VarName, Env)</h1>

      <a href="https://github.com/am-kantox/cure-lang/blob/v0.4.0/src/smt/cure_smt_translator.erl#L387" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> declare_variable(<a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:atom/0">atom</a>(), <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:map/0">map</a>()) -> <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:iolist/0">iolist</a>().</pre>

      </div>

<p>Generate SMT-LIB declaration for a variable.</p><p>Creates a (declare-const ...) declaration based on the variable's type.</p><h2 id="declare_variable/2-arguments" class="section-heading">
  <a href="#declare_variable/2-arguments" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h2>
<ul><li><code class="inline">VarName</code> - Variable name (atom)</li><li><code class="inline">Env</code> - Environment with type information</li></ul><h2 id="declare_variable/2-returns" class="section-heading">
  <a href="#declare_variable/2-returns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Returns</span>
</h2>
<ul><li><code class="inline">iolist()</code> - SMT-LIB declaration</li></ul>
  </section>
</section>
<section class="detail" id="generate_constraint_check_query/3">

  <div class="detail-header">
    <a href="#generate_constraint_check_query/3" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">generate_constraint_check_query(ValueExpr, Predicate, Env)</h1>

      <a href="https://github.com/am-kantox/cure-lang/blob/v0.4.0/src/smt/cure_smt_translator.erl#L580" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> generate_constraint_check_query(<a href="#t:expr/0">expr</a>(), <a href="#t:expr/0">expr</a>(), <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:map/0">map</a>()) -> <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:iolist/0">iolist</a>().</pre>

      </div>

<p>Generate SMT-LIB query to check if a value satisfies a constraint.</p><h2 id="generate_constraint_check_query/3-arguments" class="section-heading">
  <a href="#generate_constraint_check_query/3-arguments" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h2>
<ul><li><code class="inline">ValueExpr</code> - Expression representing the value</li><li><code class="inline">Predicate</code> - Constraint predicate</li><li><code class="inline">Env</code> - Environment with variable types</li></ul><h2 id="generate_constraint_check_query/3-returns" class="section-heading">
  <a href="#generate_constraint_check_query/3-returns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Returns</span>
</h2>
<ul><li><code class="inline">iolist()</code> - SMT-LIB query</li></ul><h2 id="generate_constraint_check_query/3-example" class="section-heading">
  <a href="#generate_constraint_check_query/3-example" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Example</span>
</h2>
<pre><code class="makeup erlang" translate="no"><span class="c1">% Check if 5 satisfies (x &gt; 0)</span><span class="w">
</span><span class="n">Value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="ss">literal_expr</span><span class="p" data-group-id="7434458207-1">{</span><span class="ss">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p" data-group-id="7434458207-1">}</span><span class="p">,</span><span class="w">
</span><span class="n">Pred</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="ss">binary_op_expr</span><span class="p" data-group-id="7434458207-2">{</span><span class="ss">op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&#39;&gt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="ss">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">var</span><span class="p" data-group-id="7434458207-3">(</span><span class="ss">x</span><span class="p" data-group-id="7434458207-3">)</span><span class="p">,</span><span class="w"> </span><span class="ss">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">lit</span><span class="p" data-group-id="7434458207-4">(</span><span class="mi">0</span><span class="p" data-group-id="7434458207-4">)</span><span class="p" data-group-id="7434458207-2">}</span><span class="p">,</span><span class="w">
</span><span class="n">Query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">generate_constraint_check_query</span><span class="p" data-group-id="7434458207-5">(</span><span class="n">Value</span><span class="p">,</span><span class="w"> </span><span class="n">Pred</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7434458207-6">#{</span><span class="ss">x</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="7434458207-7">{</span><span class="ss">type</span><span class="p">,</span><span class="w"> </span><span class="ss">int</span><span class="p" data-group-id="7434458207-7">}</span><span class="p" data-group-id="7434458207-6">}</span><span class="p" data-group-id="7434458207-5">)</span><span class="p">.</span></code></pre>
  </section>
</section>
<section class="detail" id="generate_query/2">

  <div class="detail-header">
    <a href="#generate_query/2" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">generate_query(Constraint, Env)</h1>

      <a href="https://github.com/am-kantox/cure-lang/blob/v0.4.0/src/smt/cure_smt_translator.erl#L73" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> generate_query(<a href="#t:expr/0">expr</a>(), <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:map/0">map</a>()) -> <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:iolist/0">iolist</a>().</pre>

      </div>

<p>Generate a complete SMT-LIB query from a Cure constraint.</p><p>Produces a full SMT-LIB query including logic declaration, variable declarations,
assertions, and check-sat command.</p><h2 id="generate_query/2-arguments" class="section-heading">
  <a href="#generate_query/2-arguments" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h2>
<ul><li><code class="inline">Constraint</code> - Cure AST expression representing the constraint</li><li><code class="inline">Env</code> - Environment mapping variables to types</li></ul><h2 id="generate_query/2-returns" class="section-heading">
  <a href="#generate_query/2-returns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Returns</span>
</h2>
<ul><li><code class="inline">iolist()</code> - SMT-LIB query as iolist (use iolist_to_binary/1 to convert)</li></ul><h2 id="generate_query/2-example" class="section-heading">
  <a href="#generate_query/2-example" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Example</span>
</h2>
<pre><code class="makeup erlang" translate="no"><span class="n">Constraint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="ss">binary_op_expr</span><span class="p" data-group-id="6574487586-1">{</span><span class="ss">op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&#39;+&#39;</span><span class="p">,</span><span class="w"> </span><span class="ss">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">var</span><span class="p" data-group-id="6574487586-2">(</span><span class="ss">x</span><span class="p" data-group-id="6574487586-2">)</span><span class="p">,</span><span class="w"> </span><span class="ss">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">var</span><span class="p" data-group-id="6574487586-3">(</span><span class="ss">y</span><span class="p" data-group-id="6574487586-3">)</span><span class="p" data-group-id="6574487586-1">}</span><span class="p">,</span><span class="w">
</span><span class="n">Query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">generate_query</span><span class="p" data-group-id="6574487586-4">(</span><span class="n">Constraint</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6574487586-5">#{</span><span class="ss">x</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="6574487586-6">{</span><span class="ss">type</span><span class="p">,</span><span class="w"> </span><span class="ss">int</span><span class="p" data-group-id="6574487586-6">}</span><span class="p">,</span><span class="w"> </span><span class="ss">y</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="6574487586-7">{</span><span class="ss">type</span><span class="p">,</span><span class="w"> </span><span class="ss">int</span><span class="p" data-group-id="6574487586-7">}</span><span class="p" data-group-id="6574487586-5">}</span><span class="p" data-group-id="6574487586-4">)</span><span class="p">.</span></code></pre>
  </section>
</section>
<section class="detail" id="generate_query/3">

  <div class="detail-header">
    <a href="#generate_query/3" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">generate_query(Constraint, Env, Opts)</h1>

      <a href="https://github.com/am-kantox/cure-lang/blob/v0.4.0/src/smt/cure_smt_translator.erl#L85" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> generate_query(<a href="#t:expr/0">expr</a>(), <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:map/0">map</a>(), <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:map/0">map</a>()) -> <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:iolist/0">iolist</a>().</pre>

      </div>

<p>Generate SMT-LIB query with options.</p><h2 id="generate_query/3-options" class="section-heading">
  <a href="#generate_query/3-options" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Options</span>
</h2>
<ul><li><code class="inline">{get_model, boolean()}</code> - Include (get-model) command (default: true)</li><li><code class="inline">{logic, smt_logic()}</code> - Override logic inference</li><li><code class="inline">{timeout, integer()}</code> - Solver timeout hint in milliseconds</li></ul>
  </section>
</section>
<section class="detail" id="generate_refinement_subtype_query/4">

  <div class="detail-header">
    <a href="#generate_refinement_subtype_query/4" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">generate_refinement_subtype_query(Pred1, Pred2, Var, BaseType)</h1>

      <a href="https://github.com/am-kantox/cure-lang/blob/v0.4.0/src/smt/cure_smt_translator.erl#L513" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> generate_refinement_subtype_query(<a href="#t:expr/0">expr</a>(), <a href="#t:expr/0">expr</a>(), <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:atom/0">atom</a>(), <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:atom/0">atom</a>()) -> <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:iolist/0">iolist</a>().</pre>

      </div>

<p>Generate SMT-LIB query to check refinement type subtyping.</p><p>Checks if refinement type with predicate Pred1 is a subtype of refinement type
with predicate Pred2. This is equivalent to proving: ∀Var. Pred1 =&gt; Pred2</p><h2 id="generate_refinement_subtype_query/4-arguments" class="section-heading">
  <a href="#generate_refinement_subtype_query/4-arguments" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h2>
<ul><li><code class="inline">Pred1</code> - Predicate of subtype (e.g., x &gt; 0)</li><li><code class="inline">Pred2</code> - Predicate of supertype (e.g., x /= 0)</li><li><code class="inline">Var</code> - Refinement variable name</li><li><code class="inline">BaseType</code> - Base type (int, real, bool)</li></ul><h2 id="generate_refinement_subtype_query/4-returns" class="section-heading">
  <a href="#generate_refinement_subtype_query/4-returns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Returns</span>
</h2>
<ul><li><code class="inline">iolist()</code> - SMT-LIB query</li></ul><h2 id="generate_refinement_subtype_query/4-example" class="section-heading">
  <a href="#generate_refinement_subtype_query/4-example" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Example</span>
</h2>
<pre><code class="makeup erlang" translate="no"><span class="c1">% Check if Positive &lt;: NonZero</span><span class="w">
</span><span class="c1">% i.e., ∀x. (x &gt; 0) =&gt; (x ≠ 0)</span><span class="w">
</span><span class="n">Pred1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="ss">binary_op_expr</span><span class="p" data-group-id="1445335769-1">{</span><span class="ss">op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&#39;&gt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="ss">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">var</span><span class="p" data-group-id="1445335769-2">(</span><span class="ss">x</span><span class="p" data-group-id="1445335769-2">)</span><span class="p">,</span><span class="w"> </span><span class="ss">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">lit</span><span class="p" data-group-id="1445335769-3">(</span><span class="mi">0</span><span class="p" data-group-id="1445335769-3">)</span><span class="p" data-group-id="1445335769-1">}</span><span class="p">,</span><span class="w">
</span><span class="n">Pred2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="ss">binary_op_expr</span><span class="p" data-group-id="1445335769-4">{</span><span class="ss">op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&#39;/=&#39;</span><span class="p">,</span><span class="w"> </span><span class="ss">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">var</span><span class="p" data-group-id="1445335769-5">(</span><span class="ss">x</span><span class="p" data-group-id="1445335769-5">)</span><span class="p">,</span><span class="w"> </span><span class="ss">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">lit</span><span class="p" data-group-id="1445335769-6">(</span><span class="mi">0</span><span class="p" data-group-id="1445335769-6">)</span><span class="p" data-group-id="1445335769-4">}</span><span class="p">,</span><span class="w">
</span><span class="n">Query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">generate_refinement_subtype_query</span><span class="p" data-group-id="1445335769-7">(</span><span class="n">Pred1</span><span class="p">,</span><span class="w"> </span><span class="n">Pred2</span><span class="p">,</span><span class="w"> </span><span class="ss">x</span><span class="p">,</span><span class="w"> </span><span class="ss">int</span><span class="p" data-group-id="1445335769-7">)</span><span class="p">.</span></code></pre>
  </section>
</section>
<section class="detail" id="infer_logic/1">

  <div class="detail-header">
    <a href="#infer_logic/1" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">infer_logic(Constraint)</h1>

      <a href="https://github.com/am-kantox/cure-lang/blob/v0.4.0/src/smt/cure_smt_translator.erl#L279" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> infer_logic(<a href="#t:expr/0">expr</a>()) -> <a href="#t:smt_logic/0">smt_logic</a>().</pre>

      </div>

<p>Infer the appropriate SMT-LIB logic for a constraint.</p><p>Analyzes the constraint to determine which SMT-LIB logic is required.</p><h2 id="infer_logic/1-logics" class="section-heading">
  <a href="#infer_logic/1-logics" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Logics</span>
</h2>
<ul><li><code class="inline">QF_LIA</code> - Quantifier-free linear integer arithmetic</li><li><code class="inline">QF_LRA</code> - Quantifier-free linear real arithmetic  </li><li><code class="inline">QF_LIRA</code> - Quantifier-free linear integer/real arithmetic</li><li><code class="inline">QF_NIA</code> - Quantifier-free nonlinear integer arithmetic</li><li><code class="inline">LIA</code> - Linear integer arithmetic (with quantifiers)</li><li><code class="inline">LRA</code> - Linear real arithmetic (with quantifiers)</li><li><code class="inline">NIA</code> - Nonlinear integer arithmetic (with quantifiers)</li></ul><h2 id="infer_logic/1-arguments" class="section-heading">
  <a href="#infer_logic/1-arguments" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h2>
<ul><li><code class="inline">Constraint</code> - Cure AST expression</li></ul><h2 id="infer_logic/1-returns" class="section-heading">
  <a href="#infer_logic/1-returns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Returns</span>
</h2>
<ul><li><code class="inline">smt_logic()</code> - Inferred logic</li></ul>
  </section>
</section>
<section class="detail" id="translate_expr/1">

  <div class="detail-header">
    <a href="#translate_expr/1" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">translate_expr(Expr)</h1>

      <a href="https://github.com/am-kantox/cure-lang/blob/v0.4.0/src/smt/cure_smt_translator.erl#L134" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> translate_expr(<a href="#t:expr/0">expr</a>()) -> <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:iolist/0">iolist</a>().</pre>

      </div>

<p>Translate a Cure expression to SMT-LIB s-expression.</p><p>Converts Cure AST expressions to SMT-LIB format recursively.</p><h2 id="translate_expr/1-arguments" class="section-heading">
  <a href="#translate_expr/1-arguments" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h2>
<ul><li><code class="inline">Expr</code> - Cure AST expression</li></ul><h2 id="translate_expr/1-returns" class="section-heading">
  <a href="#translate_expr/1-returns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Returns</span>
</h2>
<ul><li><code class="inline">iolist()</code> - SMT-LIB s-expression</li></ul>
  </section>
</section>
<section class="detail" id="translate_expr/2">

  <div class="detail-header">
    <a href="#translate_expr/2" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">translate_expr/2</h1>

      <a href="https://github.com/am-kantox/cure-lang/blob/v0.4.0/src/smt/cure_smt_translator.erl#L139" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

      <div class="specs">

          <pre translate="no"><span class="attribute">-spec</span> translate_expr(<a href="#t:expr/0">expr</a>(), <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:map/0">map</a>()) -> <a href="https://www.erlang.org/doc/apps/erts/erlang.html#t:iolist/0">iolist</a>().</pre>

      </div>


  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/cure/0.4.0" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/cure/0.4.0">Hex Preview</a>

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="cure.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.35.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
