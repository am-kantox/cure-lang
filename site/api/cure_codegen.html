<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.35.1">
    <meta name="project" content="cure v0.1.0">


    <title>cure_codegen â€” cure v0.1.0</title>
    <link rel="stylesheet" href="dist/html-erlang-4IXSOGMD.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-K7URE6B4.js"></script>
    <script src="dist/sidebar_items-48D43E9B.js"></script>
    <script src="docs_config.js"></script>
    <script async src="dist/html-PVRIOB7F.js"></script>

  </head>
  <body data-type="modules" class="page-module">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

      <div>
        <a href="readme.html" class="sidebar-projectName" translate="no">
cure
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v0.1.0
        </div>
      </div>
    </div>
    <ul id="sidebar-listNav" class="sidebar-listNav" role="tablist">
      <li>
        <button id="extras-list-tab-button" role="tab" data-type="extras" aria-controls="extras-tab-panel" aria-selected="true" tabindex="0">
Pages
        </button>
      </li>

        <li>
          <button id="modules-list-tab-button" role="tab" data-type="modules" aria-controls="modules-tab-panel" aria-selected="false" tabindex="-1">
            Modules
          </button>
        </li>


    </ul>
  </div>

  <div id="extras-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="extras-list-tab-button">
    <ul id="extras-full-list" class="full-list"></ul>
  </div>

    <div id="modules-tab-panel" class="sidebar-tabpanel" role="tabpanel" aria-labelledby="modules-list-tab-button" hidden>
      <ul id="modules-full-list" class="full-list"></ul>
    </div>


</nav>

<main class="content">
  <output role="status" id="toast"></output>

  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of cure</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search">
            <i class="ri-search-2-line ri-lg" aria-hidden="true" title="Submit search"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L3" title="View Source" class="icon-action" rel="help">
        <i class="ri-code-s-slash-line" aria-hidden="true"></i>
        <span class="sr-only">View Source</span>
      </a>

    <span translate="no">cure_codegen</span> 
    <small class="app-vsn" translate="no">(cure v0.1.0)</small>

  </h1>


    <section id="moduledoc">
<h1>Cure Programming Language - BEAM Code Generator</h1><p>The code generator transforms typed Cure AST into BEAM bytecode, enabling Cure
programs to run on the Erlang Virtual Machine. It handles all Cure language
features including dependent types, finite state machines, pattern matching,
and integration with Erlang/OTP.</p><h2 id="module-features" class="section-heading">
  <a href="#module-features" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Features</span>
</h2>
<h3 id="module-complete-language-support" class="section-heading">
  <a href="#module-complete-language-support" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Complete Language Support</span>
</h3>
<ul><li><strong>Module Compilation</strong>: Full module support with imports/exports</li><li><strong>Function Compilation</strong>: Regular and dependent function types</li><li><strong>Expression Compilation</strong>: All Cure expressions to BEAM instructions</li><li><strong>Pattern Matching</strong>: Efficient pattern compilation with optimization</li><li><strong>Type Integration</strong>: Uses type information for optimizations</li></ul><h3 id="module-fsm-code-generation" class="section-heading">
  <a href="#module-fsm-code-generation" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">FSM Code Generation</span>
</h3>
<ul><li><strong>Native FSM Support</strong>: Compiles FSMs to gen_statem behaviors</li><li><strong>State Optimization</strong>: Optimizes state transitions and data access</li><li><strong>Guard Compilation</strong>: Efficient guard expression compilation</li><li><strong>Action Compilation</strong>: Action sequences to BEAM instructions</li></ul><h3 id="module-beam-integration" class="section-heading">
  <a href="#module-beam-integration" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">BEAM Integration</span>
</h3>
<ul><li><strong>Bytecode Generation</strong>: Direct BEAM bytecode emission</li><li><strong>Module Attributes</strong>: Proper module metadata generation</li><li><strong>Export Lists</strong>: Correct function export handling</li><li><strong>Debug Information</strong>: Optional debug info generation</li></ul><h3 id="module-optimization-features" class="section-heading">
  <a href="#module-optimization-features" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Optimization Features</span>
</h3>
<ul><li><strong>Configurable Levels</strong>: Multiple optimization levels (0-3)</li><li><strong>Type-directed</strong>: Uses type information for better code</li><li><strong>Dead Code Elimination</strong>: Removes unused code paths</li><li><strong>Instruction Optimization</strong>: BEAM instruction-level optimizations</li></ul><h2 id="module-compilation-pipeline" class="section-heading">
  <a href="#module-compilation-pipeline" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Compilation Pipeline</span>
</h2>
<h3 id="module-1-program-compilation" class="section-heading">
  <a href="#module-1-program-compilation" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">1. Program Compilation</span>
</h3>
<pre><code class="makeup erlang" translate="no"><span class="c1">%% Compile entire program</span><span class="w">
</span><span class="p" data-group-id="4810670477-1">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">Modules</span><span class="p" data-group-id="4810670477-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">cure_codegen</span><span class="p">:</span><span class="nf">compile_program</span><span class="p" data-group-id="4810670477-2">(</span><span class="n">AST</span><span class="p" data-group-id="4810670477-2">)</span><span class="p">,</span><span class="w">

</span><span class="c1">%% With custom options</span><span class="w">
</span><span class="n">Options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="4810670477-3">[</span><span class="p" data-group-id="4810670477-4">{</span><span class="ss">optimize</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="4810670477-4">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4810670477-5">{</span><span class="ss">debug_info</span><span class="p">,</span><span class="w"> </span><span class="ss">true</span><span class="p" data-group-id="4810670477-5">}</span><span class="p" data-group-id="4810670477-3">]</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="4810670477-6">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">Modules</span><span class="p" data-group-id="4810670477-6">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">cure_codegen</span><span class="p">:</span><span class="nf">compile_program</span><span class="p" data-group-id="4810670477-7">(</span><span class="n">AST</span><span class="p">,</span><span class="w"> </span><span class="n">Options</span><span class="p" data-group-id="4810670477-7">)</span><span class="p">.</span></code></pre><h3 id="module-2-module-compilation" class="section-heading">
  <a href="#module-2-module-compilation" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">2. Module Compilation</span>
</h3>
<pre><code class="makeup erlang" translate="no"><span class="c1">%% Compile single module</span><span class="w">
</span><span class="n">Module</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="ss">module_def</span><span class="p" data-group-id="1215507475-1">{</span><span class="ss">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&#39;MyModule&#39;</span><span class="p">,</span><span class="w"> </span><span class="ss">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Exports</span><span class="p">,</span><span class="w"> </span><span class="ss">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Items</span><span class="p" data-group-id="1215507475-1">}</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="1215507475-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">CompiledModule</span><span class="p" data-group-id="1215507475-2">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">cure_codegen</span><span class="p">:</span><span class="nf">compile_module</span><span class="p" data-group-id="1215507475-3">(</span><span class="n">Module</span><span class="p" data-group-id="1215507475-3">)</span><span class="p">,</span><span class="w">

</span><span class="c1">%% Generate BEAM file</span><span class="w">
</span><span class="nc">cure_codegen</span><span class="p">:</span><span class="nf">write_beam_module</span><span class="p" data-group-id="1215507475-4">(</span><span class="n">CompiledModule</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MyModule.beam&quot;</span><span class="p" data-group-id="1215507475-4">)</span><span class="p">.</span></code></pre><h3 id="module-3-function-compilation" class="section-heading">
  <a href="#module-3-function-compilation" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">3. Function Compilation</span>
</h3>
<pre><code class="makeup erlang" translate="no"><span class="c1">%% Compile individual function</span><span class="w">
</span><span class="n">Func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="ss">function_def</span><span class="p" data-group-id="1821615561-1">{</span><span class="ss">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">add</span><span class="p">,</span><span class="w"> </span><span class="ss">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Params</span><span class="p">,</span><span class="w"> </span><span class="ss">body</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Body</span><span class="p" data-group-id="1821615561-1">}</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="1821615561-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">CompiledFunc</span><span class="p">,</span><span class="w"> </span><span class="n">State</span><span class="p" data-group-id="1821615561-2">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">cure_codegen</span><span class="p">:</span><span class="nf">compile_function</span><span class="p" data-group-id="1821615561-3">(</span><span class="n">Func</span><span class="p" data-group-id="1821615561-3">)</span><span class="p">.</span></code></pre><h2 id="module-code-generation-process" class="section-heading">
  <a href="#module-code-generation-process" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Code Generation Process</span>
</h2>
<h3 id="module-phase-1-ast-analysis" class="section-heading">
  <a href="#module-phase-1-ast-analysis" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Phase 1: AST Analysis</span>
</h3>
<ul><li><strong>Type Information</strong>: Extract and validate type annotations</li><li><strong>Import Resolution</strong>: Process module imports and dependencies</li><li><strong>Export Analysis</strong>: Validate and process export specifications</li><li><strong>Dependency Analysis</strong>: Build function dependency graph</li></ul><h3 id="module-phase-2-instruction-generation" class="section-heading">
  <a href="#module-phase-2-instruction-generation" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Phase 2: Instruction Generation</span>
</h3>
<ul><li><strong>Expression Compilation</strong>: Convert expressions to BEAM instructions</li><li><strong>Pattern Compilation</strong>: Generate efficient pattern matching code</li><li><strong>Guard Compilation</strong>: Compile guard expressions</li><li><strong>Control Flow</strong>: Generate conditionals, loops, and jumps</li></ul><h3 id="module-phase-3-optimization" class="section-heading">
  <a href="#module-phase-3-optimization" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Phase 3: Optimization</span>
</h3>
<ul><li><strong>Instruction Optimization</strong>: Peephole optimizations</li><li><strong>Register Allocation</strong>: Efficient register usage</li><li><strong>Jump Optimization</strong>: Minimize jumps and labels</li><li><strong>Constant Folding</strong>: Compile-time constant evaluation</li></ul><h3 id="module-phase-4-module-assembly" class="section-heading">
  <a href="#module-phase-4-module-assembly" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Phase 4: Module Assembly</span>
</h3>
<ul><li><strong>Function Assembly</strong>: Combine compiled functions</li><li><strong>Attribute Generation</strong>: Create module attributes</li><li><strong>Export List</strong>: Generate proper export specifications</li><li><strong>BEAM File</strong>: Produce final BEAM bytecode file</li></ul><h2 id="module-compilation-options" class="section-heading">
  <a href="#module-compilation-options" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Compilation Options</span>
</h2>
<h3 id="module-standard-options" class="section-heading">
  <a href="#module-standard-options" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Standard Options</span>
</h3>
<pre><code class="makeup erlang" translate="no"><span class="n">Options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="1849936944-1">[</span><span class="w">
    </span><span class="p" data-group-id="1849936944-2">{</span><span class="ss">debug_info</span><span class="p">,</span><span class="w"> </span><span class="ss">true</span><span class="p" data-group-id="1849936944-2">}</span><span class="p">,</span><span class="w">      </span><span class="c1">% Include debug information</span><span class="w">
    </span><span class="p" data-group-id="1849936944-3">{</span><span class="ss">optimize</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="1849936944-3">}</span><span class="p">,</span><span class="w">           </span><span class="c1">% Optimization level 0-3</span><span class="w">
    </span><span class="p" data-group-id="1849936944-4">{</span><span class="ss">warnings</span><span class="p">,</span><span class="w"> </span><span class="ss">true</span><span class="p" data-group-id="1849936944-4">}</span><span class="p">,</span><span class="w">        </span><span class="c1">% Enable compilation warnings</span><span class="w">
    </span><span class="p" data-group-id="1849936944-5">{</span><span class="ss">strict_types</span><span class="p">,</span><span class="w"> </span><span class="ss">true</span><span class="p" data-group-id="1849936944-5">}</span><span class="p">,</span><span class="w">    </span><span class="c1">% Strict type checking</span><span class="w">
    </span><span class="p" data-group-id="1849936944-6">{</span><span class="ss">fsm_integration</span><span class="p">,</span><span class="w"> </span><span class="ss">true</span><span class="p" data-group-id="1849936944-6">}</span><span class="w">  </span><span class="c1">% Enable FSM features</span><span class="w">
</span><span class="p" data-group-id="1849936944-1">]</span><span class="p">.</span></code></pre><h3 id="module-optimization-levels" class="section-heading">
  <a href="#module-optimization-levels" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Optimization Levels</span>
</h3>
<ul><li><strong>Level 0</strong>: No optimizations (fastest compile, debugging)</li><li><strong>Level 1</strong>: Basic optimizations (safe, minimal impact)</li><li><strong>Level 2</strong>: Standard optimizations (default, balanced)</li><li><strong>Level 3</strong>: Aggressive optimizations (maximum performance)</li></ul><h2 id="module-expression-compilation" class="section-heading">
  <a href="#module-expression-compilation" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Expression Compilation</span>
</h2>
<h3 id="module-literals" class="section-heading">
  <a href="#module-literals" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Literals</span>
</h3>
<pre><code class="cure">42          â†’ {integer, 42}
&quot;hello&quot;     â†’ {string, &quot;hello&quot;}
true        â†’ {atom, true}
[1,2,3]     â†’ {cons, {integer,1}, {cons, {integer,2}, ...}}</code></pre><h3 id="module-function-calls" class="section-heading">
  <a href="#module-function-calls" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Function Calls</span>
</h3>
<pre><code class="cure">foo(x, y)   â†’ {call, {atom, foo}, [VarX, VarY]}
Mod.func(x) â†’ {call, {remote, {atom, 'Mod'}, {atom, func}}, [VarX]}</code></pre><h3 id="module-pattern-matching" class="section-heading">
  <a href="#module-pattern-matching" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Pattern Matching</span>
</h3>
<pre><code class="cure">match value do
    {ok, x} -&gt; x
    error -&gt; 0
end</code></pre><p>Compiles to efficient jump table with pattern tests.</p><h2 id="module-fsm-compilation" class="section-heading">
  <a href="#module-fsm-compilation" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">FSM Compilation</span>
</h2>
<p>Finite state machines compile to standard Erlang gen_statem:</p><pre><code class="cure">fsm Counter do
    states: [idle, counting]
    initial: idle
    
    state idle do
        event start -&gt; counting
    end
end</code></pre><p>Generates:</p><ul><li><code class="inline">init/1</code> callback for initialization</li><li>State callback functions for each state</li><li>Event handling with pattern matching</li><li>State data management</li></ul><h2 id="module-error-handling" class="section-heading">
  <a href="#module-error-handling" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Error Handling</span>
</h2>
<p>The code generator provides detailed error information:</p><ul><li><strong>Compilation Errors</strong>: Unsupported constructs, type mismatches</li><li><strong>Generation Errors</strong>: BEAM instruction generation failures</li><li><strong>Optimization Errors</strong>: Failed optimizations (non-fatal)</li><li><strong>File I/O Errors</strong>: BEAM file writing errors</li></ul><h2 id="module-integration-with-type-system" class="section-heading">
  <a href="#module-integration-with-type-system" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Integration with Type System</span>
</h2>
<p>Uses type information for:</p><ul><li><strong>Type Erasure</strong>: Remove type annotations while preserving semantics</li><li><strong>Optimization</strong>: Type-directed optimizations and specializations</li><li><strong>Error Prevention</strong>: Catch type-related errors during compilation</li><li><strong>Runtime Checks</strong>: Generate minimal runtime type checks where needed</li></ul><h2 id="module-beam-compatibility" class="section-heading">
  <a href="#module-beam-compatibility" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">BEAM Compatibility</span>
</h2>
<p>Generates standard BEAM bytecode compatible with:</p><ul><li><strong>Erlang/OTP</strong>: Full compatibility with Erlang runtime</li><li><strong>Elixir</strong>: Can be called from Elixir code</li><li><strong>LFE/Gleam</strong>: Compatible with other BEAM languages</li><li><strong>Standard Tools</strong>: Works with standard BEAM tools (debugger, profiler)</li></ul><h2 id="module-performance-characteristics" class="section-heading">
  <a href="#module-performance-characteristics" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Performance Characteristics</span>
</h2>
<ul><li><strong>Compilation Speed</strong>: Linear in program size for most constructs</li><li><strong>Generated Code</strong>: Comparable performance to hand-written Erlang</li><li><strong>Memory Usage</strong>: Efficient memory usage during compilation</li><li><strong>Optimization Impact</strong>: 10-40% performance improvement at higher levels</li></ul><h2 id="module-thread-safety" class="section-heading">
  <a href="#module-thread-safety" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Thread Safety</span>
</h2>
<p>The code generator is stateless at the module level and can safely compile
multiple modules concurrently. Individual function compilation maintains
local state that is not shared between threads.</p>
    </section>

</div>

  <section id="summary" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#summary">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Summary</span>
    </h1>
<div class="summary-functions summary">
  <h2>
    <a href="#functions">Functions</a>
  </h2>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#compile_expression/1" data-no-tooltip translate="no">compile_expression(Expr)</a>

      </div>

        <div class="summary-synopsis"><p>Compiles a Cure expression to BEAM instructions using default state.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#compile_expression/2" data-no-tooltip translate="no">compile_expression(Expr, State)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#compile_fsm_impl/2" data-no-tooltip translate="no">compile_fsm_impl/2</a>

      </div>

        <div class="summary-synopsis"><p>Compiles a finite state machine definition to BEAM runtime functions.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#compile_function/1" data-no-tooltip translate="no">compile_function(FunctionAST)</a>

      </div>

        <div class="summary-synopsis"><p>Compiles a single Cure function to BEAM bytecode using default options.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#compile_function/2" data-no-tooltip translate="no">compile_function/2</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#compile_module/1" data-no-tooltip translate="no">compile_module(ModuleAST)</a>

      </div>

        <div class="summary-synopsis"><p>Compiles a single Cure module to BEAM bytecode using default options.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#compile_module/2" data-no-tooltip translate="no">compile_module/2</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#compile_patterns_to_case_clauses/2" data-no-tooltip translate="no">compile_patterns_to_case_clauses(Patterns, State)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#compile_program/1" data-no-tooltip translate="no">compile_program(AST)</a>

      </div>

        <div class="summary-synopsis"><p>Compiles a complete Cure program to BEAM bytecode using default options.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#compile_program/2" data-no-tooltip translate="no">compile_program(AST, Options)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#compile_value_to_erlang_form/2" data-no-tooltip translate="no">compile_value_to_erlang_form(Value, Location)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#convert_body_expression_to_erlang/2" data-no-tooltip translate="no">convert_body_expression_to_erlang/2</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#convert_list_pattern_to_erlang_form/3" data-no-tooltip translate="no">convert_list_pattern_to_erlang_form/3</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#convert_pattern_to_erlang_form/2" data-no-tooltip translate="no">convert_pattern_to_erlang_form/2</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#convert_to_erlang_forms/1" data-no-tooltip translate="no">convert_to_erlang_forms(Module)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#default_options/0" data-no-tooltip translate="no">default_options()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#generate_beam_file/2" data-no-tooltip translate="no">generate_beam_file(Module, OutputPath)</a>

      </div>

        <div class="summary-synopsis"><p>Generates a BEAM bytecode file from a compiled Cure module.</p></div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#generate_fsm_functions/3" data-no-tooltip translate="no">generate_fsm_functions(FSMName, CompiledFSM, Location)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#generate_module_attributes/1" data-no-tooltip translate="no">generate_module_attributes(State)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#new_state/0" data-no-tooltip translate="no">new_state()</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#validate_options/1" data-no-tooltip translate="no">validate_options(Options)</a>

      </div>

    </div>

    <div class="summary-row">
      <div class="summary-signature">
        <a href="#write_beam_module/2" data-no-tooltip translate="no">write_beam_module(Module, OutputPath)</a>

      </div>

        <div class="summary-synopsis"><p>Writes a compiled Cure module to a BEAM file.</p></div>

    </div>

</div>

  </section>


  <section id="functions" class="details-list">
    <h1 class="section-heading">
      <a class="hover-link" href="#functions">
        <i class="ri-link-m" aria-hidden="true"></i>
      </a>
      <span class="text">Functions</span>
    </h1>
    <div class="functions-list">
<section class="detail" id="compile_expression/1">

  <div class="detail-header">
    <a href="#compile_expression/1" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">compile_expression(Expr)</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L1199" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

<p>Compiles a Cure expression to BEAM instructions using default state.</p><p>This is the main expression compilation entry point that handles conversion
of all Cure expression types to equivalent BEAM bytecode instructions.</p><h2 id="compile_expression/1-arguments" class="section-heading">
  <a href="#compile_expression/1-arguments" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h2>
<ul><li><code class="inline">Expr</code> - Expression AST node (various expr record types)</li></ul><h2 id="compile_expression/1-returns" class="section-heading">
  <a href="#compile_expression/1-returns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Returns</span>
</h2>
<ul><li><code class="inline">{Instructions, State}</code> - BEAM instructions and updated compilation state</li><li><code class="inline">{error, Reason}</code> - Compilation error details</li></ul><h2 id="compile_expression/1-example" class="section-heading">
  <a href="#compile_expression/1-example" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Example</span>
</h2>
<pre><code class="makeup erlang" translate="no"><span class="n">Expr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="ss">binary_op_expr</span><span class="p" data-group-id="8795860739-1">{</span><span class="ss">op</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&#39;+&#39;</span><span class="p">,</span><span class="w"> </span><span class="ss">left</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="8795860739-2">{</span><span class="ss">literal</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p" data-group-id="8795860739-2">}</span><span class="p">,</span><span class="w"> </span><span class="ss">right</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="8795860739-3">{</span><span class="ss">literal</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p" data-group-id="8795860739-3">}</span><span class="p" data-group-id="8795860739-1">}</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="8795860739-4">{</span><span class="n">Instructions</span><span class="p">,</span><span class="w"> </span><span class="p">_</span><span class="n">State</span><span class="p" data-group-id="8795860739-4">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">cure_codegen</span><span class="p">:</span><span class="nf">compile_expression</span><span class="p" data-group-id="8795860739-5">(</span><span class="n">Expr</span><span class="p" data-group-id="8795860739-5">)</span><span class="p">.</span></code></pre><h2 id="compile_expression/1-supported-expression-types" class="section-heading">
  <a href="#compile_expression/1-supported-expression-types" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Supported Expression Types</span>
</h2>
<ul><li>Literals (integers, atoms, strings, booleans)</li><li>Identifiers (variables, function references)</li><li>Binary operations (arithmetic, logical, comparison)</li><li>Function calls (local and remote)</li><li>Control flow (if/else, pattern matching)</li><li>Data structures (lists, tuples, records)</li><li>Lambda expressions and blocks</li><li>String interpolation</li><li>Type annotations</li></ul><h2 id="compile_expression/1-error-handling" class="section-heading">
  <a href="#compile_expression/1-error-handling" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Error Handling</span>
</h2>
<p>Returns detailed error information for unsupported expressions,
type mismatches, and compilation failures.</p>
  </section>
</section>
<section class="detail" id="compile_expression/2">

  <div class="detail-header">
    <a href="#compile_expression/2" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">compile_expression(Expr, State)</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L1202" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="compile_fsm_impl/2">

  <div class="detail-header">
    <a href="#compile_fsm_impl/2" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">compile_fsm_impl/2</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L1864" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

<p>Compiles a finite state machine definition to BEAM runtime functions.</p><p>This function transforms a Cure FSM definition into executable BEAM code
that integrates with the FSM runtime system. It generates helper functions
for spawning, controlling, and querying FSM instances.</p><h2 id="compile_fsm_impl/2-arguments" class="section-heading">
  <a href="#compile_fsm_impl/2-arguments" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h2>
<ul><li><code class="inline">FSMDef</code> - FSM definition AST node (#fsm_def{})</li><li><code class="inline">State</code> - Current compilation state</li></ul><h2 id="compile_fsm_impl/2-returns" class="section-heading">
  <a href="#compile_fsm_impl/2-returns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Returns</span>
</h2>
<ul><li><code class="inline">{ok, {fsm, CompiledFSM}, NewState}</code> - Successfully compiled FSM</li><li><code class="inline">{error, Reason}</code> - Compilation error details</li></ul><h2 id="compile_fsm_impl/2-generated-functions" class="section-heading">
  <a href="#compile_fsm_impl/2-generated-functions" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Generated Functions</span>
</h2>
<p>For an FSM named <code class="inline">Counter</code>, generates:</p><ul><li><code class="inline">Counter_spawn/0</code> - Spawn FSM with default initial state</li><li><code class="inline">Counter_spawn/1</code> - Spawn FSM with custom initial data</li><li><code class="inline">Counter_send/2</code> - Send event to FSM instance</li><li><code class="inline">Counter_state/1</code> - Get current state of FSM instance</li><li><code class="inline">Counter_stop/1</code> - Stop FSM instance gracefully</li><li><code class="inline">Counter_definition/0</code> - Get compiled FSM definition</li></ul><h2 id="compile_fsm_impl/2-example" class="section-heading">
  <a href="#compile_fsm_impl/2-example" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Example</span>
</h2>
<pre><code class="makeup erlang" translate="no"><span class="n">FSM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="ss">fsm_def</span><span class="p" data-group-id="7187401628-1">{</span><span class="w">
    </span><span class="ss">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&#39;Counter&#39;</span><span class="p">,</span><span class="w">
    </span><span class="ss">states</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="7187401628-2">[</span><span class="ss">idle</span><span class="p">,</span><span class="w"> </span><span class="ss">counting</span><span class="p" data-group-id="7187401628-2">]</span><span class="p">,</span><span class="w">
    </span><span class="ss">initial</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">idle</span><span class="p">,</span><span class="w">
    </span><span class="ss">state_defs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="7187401628-3">[</span><span class="n">IdleState</span><span class="p">,</span><span class="w"> </span><span class="n">CountingState</span><span class="p" data-group-id="7187401628-3">]</span><span class="w">
</span><span class="p" data-group-id="7187401628-1">}</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="7187401628-4">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7187401628-5">{</span><span class="ss">fsm</span><span class="p">,</span><span class="w"> </span><span class="n">CompiledFSM</span><span class="p" data-group-id="7187401628-5">}</span><span class="p">,</span><span class="w"> </span><span class="n">NewState</span><span class="p" data-group-id="7187401628-4">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">compile_fsm_impl</span><span class="p" data-group-id="7187401628-6">(</span><span class="n">FSM</span><span class="p">,</span><span class="w"> </span><span class="n">State</span><span class="p" data-group-id="7187401628-6">)</span><span class="p">.</span></code></pre><h2 id="compile_fsm_impl/2-fsm-runtime-integration" class="section-heading">
  <a href="#compile_fsm_impl/2-fsm-runtime-integration" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">FSM Runtime Integration</span>
</h2>
<ul><li>Compiles FSM to cure_fsm_runtime format</li><li>Generates proper BEAM bytecode for FSM operations</li><li>Integrates with gen_statem behavior patterns</li><li>Handles state transitions, events, and timeouts</li><li>Provides type-safe FSM interface functions</li></ul><h2 id="compile_fsm_impl/2-state-management" class="section-heading">
  <a href="#compile_fsm_impl/2-state-management" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">State Management</span>
</h2>
<p>FSMs maintain state data through:</p><ul><li>Initial state setup from spawn parameters</li><li>State data transformation during transitions</li><li>Event payload integration with state data</li><li>Timeout handling with state persistence</li></ul>
  </section>
</section>
<section class="detail" id="compile_function/1">

  <div class="detail-header">
    <a href="#compile_function/1" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">compile_function(FunctionAST)</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L542" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

<p>Compiles a single Cure function to BEAM bytecode using default options.</p><p>This function handles standalone function compilation, primarily used for
testing and development. In normal compilation, functions are compiled as
part of module compilation.</p><h2 id="compile_function/1-arguments" class="section-heading">
  <a href="#compile_function/1-arguments" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h2>
<ul><li><code class="inline">FunctionAST</code> - Function AST node (function_def record or tuple format)</li></ul><h2 id="compile_function/1-returns" class="section-heading">
  <a href="#compile_function/1-returns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Returns</span>
</h2>
<ul><li><code class="inline">{ok, CompiledFunction, State}</code> - Successfully compiled function with state</li><li><code class="inline">{error, Reason}</code> - Compilation error details</li></ul><h2 id="compile_function/1-example" class="section-heading">
  <a href="#compile_function/1-example" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Example</span>
</h2>
<pre><code class="makeup erlang" translate="no"><span class="n">FuncAST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="ss">function_def</span><span class="p" data-group-id="0524809040-1">{</span><span class="w">
    </span><span class="ss">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">add</span><span class="p">,</span><span class="w">
    </span><span class="ss">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="0524809040-2">[</span><span class="ss">x</span><span class="p">,</span><span class="w"> </span><span class="ss">y</span><span class="p" data-group-id="0524809040-2">]</span><span class="p">,</span><span class="w">
    </span><span class="ss">body</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="0524809040-3">{</span><span class="ss">binary_op</span><span class="p">,</span><span class="w"> </span><span class="ss">&#39;+&#39;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0524809040-4">{</span><span class="ss">var</span><span class="p">,</span><span class="w"> </span><span class="ss">x</span><span class="p" data-group-id="0524809040-4">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0524809040-5">{</span><span class="ss">var</span><span class="p">,</span><span class="w"> </span><span class="ss">y</span><span class="p" data-group-id="0524809040-5">}</span><span class="p" data-group-id="0524809040-3">}</span><span class="w">
</span><span class="p" data-group-id="0524809040-1">}</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="0524809040-6">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">CompiledFunc</span><span class="p">,</span><span class="w"> </span><span class="p">_</span><span class="n">State</span><span class="p" data-group-id="0524809040-6">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">cure_codegen</span><span class="p">:</span><span class="nf">compile_function</span><span class="p" data-group-id="0524809040-7">(</span><span class="n">FuncAST</span><span class="p" data-group-id="0524809040-7">)</span><span class="p">.</span></code></pre><h2 id="compile_function/1-function-processing" class="section-heading">
  <a href="#compile_function/1-function-processing" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Function Processing</span>
</h2>
<ul><li>Converts function parameters to BEAM registers</li><li>Compiles function body expressions to BEAM instructions</li><li>Handles pattern matching in parameters</li><li>Generates proper function entry and exit code</li><li>Applies function-level optimizations</li></ul><h2 id="compile_function/1-limitations" class="section-heading">
  <a href="#compile_function/1-limitations" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Limitations</span>
</h2>
<ul><li>Creates minimal compilation state for standalone compilation</li><li>May not have access to full module context for imports/types</li><li>Primarily intended for testing individual functions</li></ul>
  </section>
</section>
<section class="detail" id="compile_function/2">

  <div class="detail-header">
    <a href="#compile_function/2" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">compile_function/2</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L545" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="compile_module/1">

  <div class="detail-header">
    <a href="#compile_module/1" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">compile_module(ModuleAST)</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L385" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

<p>Compiles a single Cure module to BEAM bytecode using default options.</p><p>This function handles compilation of complete module definitions including
exports, imports, function definitions, FSM definitions, and type definitions.
It converts Cure module AST to BEAM-compatible Erlang forms.</p><h2 id="compile_module/1-arguments" class="section-heading">
  <a href="#compile_module/1-arguments" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h2>
<ul><li><code class="inline">ModuleAST</code> - Module AST node (module_def record or tuple format)</li></ul><h2 id="compile_module/1-returns" class="section-heading">
  <a href="#compile_module/1-returns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Returns</span>
</h2>
<ul><li><code class="inline">{ok, CompiledModule}</code> - Successfully compiled module ready for BEAM</li><li><code class="inline">{error, Reason}</code> - Compilation error with details</li></ul><h2 id="compile_module/1-example" class="section-heading">
  <a href="#compile_module/1-example" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Example</span>
</h2>
<pre><code class="makeup erlang" translate="no"><span class="n">ModuleAST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">#</span><span class="ss">module_def</span><span class="p" data-group-id="9949897010-1">{</span><span class="w">
    </span><span class="ss">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&#39;MyModule&#39;</span><span class="p">,</span><span class="w">
    </span><span class="ss">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="9949897010-2">[</span><span class="p" data-group-id="9949897010-3">{</span><span class="ss">foo</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="9949897010-3">}</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9949897010-4">{</span><span class="ss">bar</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="9949897010-4">}</span><span class="p" data-group-id="9949897010-2">]</span><span class="p">,</span><span class="w">
    </span><span class="ss">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="9949897010-5">[</span><span class="n">FuncDef1</span><span class="p">,</span><span class="w"> </span><span class="n">FuncDef2</span><span class="p" data-group-id="9949897010-5">]</span><span class="w">
</span><span class="p" data-group-id="9949897010-1">}</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="9949897010-6">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">BeamModule</span><span class="p" data-group-id="9949897010-6">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">cure_codegen</span><span class="p">:</span><span class="nf">compile_module</span><span class="p" data-group-id="9949897010-7">(</span><span class="n">ModuleAST</span><span class="p" data-group-id="9949897010-7">)</span><span class="p">,</span><span class="w">
</span><span class="nc">cure_codegen</span><span class="p">:</span><span class="nf">write_beam_module</span><span class="p" data-group-id="9949897010-8">(</span><span class="n">BeamModule</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MyModule.beam&quot;</span><span class="p" data-group-id="9949897010-8">)</span><span class="p">.</span></code></pre><h2 id="compile_module/1-module-processing" class="section-heading">
  <a href="#compile_module/1-module-processing" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Module Processing</span>
</h2>
<ul><li>Processes imports and builds import environment</li><li>Validates and converts export specifications</li><li>Compiles all module items (functions, FSMs, types)</li><li>Generates proper BEAM module structure with attributes</li><li>Handles both old and new AST formats for compatibility</li></ul><h2 id="compile_module/1-supported-module-items" class="section-heading">
  <a href="#compile_module/1-supported-module-items" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Supported Module Items</span>
</h2>
<ul><li>Function definitions (regular and Erlang functions)</li><li>FSM definitions (compiled to gen_statem)</li><li>Record and type definitions</li><li>Import and export declarations</li></ul>
  </section>
</section>
<section class="detail" id="compile_module/2">

  <div class="detail-header">
    <a href="#compile_module/2" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">compile_module/2</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L389" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="compile_patterns_to_case_clauses/2">

  <div class="detail-header">
    <a href="#compile_patterns_to_case_clauses/2" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">compile_patterns_to_case_clauses(Patterns, State)</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L3195" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="compile_program/1">

  <div class="detail-header">
    <a href="#compile_program/1" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">compile_program(AST)</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L325" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

<p>Compiles a complete Cure program to BEAM bytecode using default options.</p><p>This is a convenience function that calls compile_program/2 with default
compilation options.</p><h2 id="compile_program/1-arguments" class="section-heading">
  <a href="#compile_program/1-arguments" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h2>
<ul><li><code class="inline">AST</code> - List of top-level AST items (modules, functions, etc.)</li></ul><h2 id="compile_program/1-returns" class="section-heading">
  <a href="#compile_program/1-returns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Returns</span>
</h2>
<ul><li><code class="inline">{ok, Modules}</code> - Successfully compiled modules</li><li><code class="inline">{error, {compilation_failed, Errors}}</code> - Compilation failures</li></ul><h2 id="compile_program/1-example" class="section-heading">
  <a href="#compile_program/1-example" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Example</span>
</h2>
<pre><code class="makeup erlang" translate="no"><span class="n">AST</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">cure_parser</span><span class="p">:</span><span class="nf">parse_file</span><span class="p" data-group-id="0225915736-1">(</span><span class="s">&quot;program.cure&quot;</span><span class="p" data-group-id="0225915736-1">)</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="0225915736-2">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">Modules</span><span class="p" data-group-id="0225915736-2">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">cure_codegen</span><span class="p">:</span><span class="nf">compile_program</span><span class="p" data-group-id="0225915736-3">(</span><span class="n">AST</span><span class="p" data-group-id="0225915736-3">)</span><span class="p">,</span><span class="w">
</span><span class="nc">lists</span><span class="p">:</span><span class="nf">foreach</span><span class="p" data-group-id="0225915736-4">(</span><span class="nf">fun</span><span class="p" data-group-id="0225915736-5">(</span><span class="n">Module</span><span class="p" data-group-id="0225915736-5">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w">
    </span><span class="nc">cure_codegen</span><span class="p">:</span><span class="nf">write_beam_module</span><span class="p" data-group-id="0225915736-6">(</span><span class="n">Module</span><span class="p">,</span><span class="w"> </span><span class="nf">filename</span><span class="p" data-group-id="0225915736-7">(</span><span class="n">Module</span><span class="p" data-group-id="0225915736-7">)</span><span class="p" data-group-id="0225915736-6">)</span><span class="w">
</span><span class="k">end</span><span class="p">,</span><span class="w"> </span><span class="n">Modules</span><span class="p" data-group-id="0225915736-4">)</span><span class="p">.</span></code></pre><h2 id="compile_program/1-default-options" class="section-heading">
  <a href="#compile_program/1-default-options" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Default Options</span>
</h2>
<p>Uses standard compilation options: debug_info, optimization level 1,
warnings enabled, strict types, and FSM integration.</p>
  </section>
</section>
<section class="detail" id="compile_program/2">

  <div class="detail-header">
    <a href="#compile_program/2" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">compile_program(AST, Options)</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L328" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="compile_value_to_erlang_form/2">

  <div class="detail-header">
    <a href="#compile_value_to_erlang_form/2" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">compile_value_to_erlang_form(Value, Location)</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L3547" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="convert_body_expression_to_erlang/2">

  <div class="detail-header">
    <a href="#convert_body_expression_to_erlang/2" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">convert_body_expression_to_erlang/2</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L3582" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="convert_list_pattern_to_erlang_form/3">

  <div class="detail-header">
    <a href="#convert_list_pattern_to_erlang_form/3" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">convert_list_pattern_to_erlang_form/3</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L3329" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="convert_pattern_to_erlang_form/2">

  <div class="detail-header">
    <a href="#convert_pattern_to_erlang_form/2" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">convert_pattern_to_erlang_form/2</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L3299" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="convert_to_erlang_forms/1">

  <div class="detail-header">
    <a href="#convert_to_erlang_forms/1" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">convert_to_erlang_forms(Module)</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L2723" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="default_options/0">

  <div class="detail-header">
    <a href="#default_options/0" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">default_options()</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L246" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="generate_beam_file/2">

  <div class="detail-header">
    <a href="#generate_beam_file/2" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">generate_beam_file(Module, OutputPath)</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L2656" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

<p>Generates a BEAM bytecode file from a compiled Cure module.</p><p>This function converts the internal compiled module representation to
standard Erlang abstract forms, then uses the Erlang compiler to produce
a BEAM bytecode file compatible with the Erlang Virtual Machine.</p><h2 id="generate_beam_file/2-arguments" class="section-heading">
  <a href="#generate_beam_file/2-arguments" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h2>
<ul><li><code class="inline">Module</code> - Compiled module data (map with functions, exports, etc.)</li><li><code class="inline">OutputPath</code> - File path where BEAM file should be written</li></ul><h2 id="generate_beam_file/2-returns" class="section-heading">
  <a href="#generate_beam_file/2-returns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Returns</span>
</h2>
<ul><li><code class="inline">{ok, {ModuleName, OutputPath}}</code> - Successfully generated BEAM file</li><li><code class="inline">{error, Reason}</code> - Generation error details</li></ul><h2 id="generate_beam_file/2-example" class="section-heading">
  <a href="#generate_beam_file/2-example" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Example</span>
</h2>
<pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="4819429143-1">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">CompiledModule</span><span class="p" data-group-id="4819429143-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">cure_codegen</span><span class="p">:</span><span class="nf">compile_module</span><span class="p" data-group-id="4819429143-2">(</span><span class="n">ModuleAST</span><span class="p" data-group-id="4819429143-2">)</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="4819429143-3">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4819429143-4">{</span><span class="n">MyModule</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MyModule.beam&quot;</span><span class="p" data-group-id="4819429143-4">}</span><span class="p" data-group-id="4819429143-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> 
    </span><span class="nc">cure_codegen</span><span class="p">:</span><span class="nf">generate_beam_file</span><span class="p" data-group-id="4819429143-5">(</span><span class="n">CompiledModule</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MyModule.beam&quot;</span><span class="p" data-group-id="4819429143-5">)</span><span class="p">.</span></code></pre><h2 id="generate_beam_file/2-process-steps" class="section-heading">
  <a href="#generate_beam_file/2-process-steps" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Process Steps</span>
</h2>
<ol><li><strong>Form Conversion</strong>: Convert internal representation to Erlang forms</li><li><strong>Erlang Compilation</strong>: Use Erlang compiler to generate bytecode</li><li><strong>File Writing</strong>: Write binary BEAM data to specified path</li><li><strong>Error Handling</strong>: Provide detailed errors at each step</li></ol><h2 id="generate_beam_file/2-beam-compatibility" class="section-heading">
  <a href="#generate_beam_file/2-beam-compatibility" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">BEAM Compatibility</span>
</h2>
<p>Generated BEAM files are fully compatible with:</p><ul><li>Standard Erlang/OTP runtime</li><li>Elixir and other BEAM languages</li><li>BEAM development and debugging tools</li><li>Hot code reloading and distribution</li></ul><h2 id="generate_beam_file/2-error-types" class="section-heading">
  <a href="#generate_beam_file/2-error-types" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Error Types</span>
</h2>
<ul><li><code class="inline">{write_failed, Reason}</code> - File system errors</li><li><code class="inline">{compile_failed, Errors, Warnings}</code> - Erlang compiler errors</li><li>Form conversion errors from convert_to_erlang_forms/1</li></ul>
  </section>
</section>
<section class="detail" id="generate_fsm_functions/3">

  <div class="detail-header">
    <a href="#generate_fsm_functions/3" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">generate_fsm_functions(FSMName, CompiledFSM, Location)</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L1907" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="generate_module_attributes/1">

  <div class="detail-header">
    <a href="#generate_module_attributes/1" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">generate_module_attributes(State)</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L2345" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="new_state/0">

  <div class="detail-header">
    <a href="#new_state/0" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">new_state()</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L274" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="validate_options/1">

  <div class="detail-header">
    <a href="#validate_options/1" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">validate_options(Options)</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L256" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="write_beam_module/2">

  <div class="detail-header">
    <a href="#write_beam_module/2" class="detail-link" data-no-tooltip aria-label="Link to this function">
      <i class="ri-link-m" aria-hidden="true"></i>
    </a>
    <h1 class="signature" translate="no">write_beam_module(Module, OutputPath)</h1>

      <a href="https://github.com/yourusername/cure/blob/v0.1.0/src/codegen/cure_codegen.erl#L3187" class="icon-action" rel="help" aria-label="View Source">
       <i class="ri-code-s-slash-line" aria-hidden="true"></i>
     </a>


  </div>

  <section class="docstring">

<p>Writes a compiled Cure module to a BEAM file.</p><p>This is a convenience function that calls generate_beam_file/2 to convert
a compiled module to BEAM bytecode and write it to the specified path.</p><h2 id="write_beam_module/2-arguments" class="section-heading">
  <a href="#write_beam_module/2-arguments" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Arguments</span>
</h2>
<ul><li><code class="inline">Module</code> - Compiled module data from compile_module/1,2</li><li><code class="inline">OutputPath</code> - File path where BEAM file should be written</li></ul><h2 id="write_beam_module/2-returns" class="section-heading">
  <a href="#write_beam_module/2-returns" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Returns</span>
</h2>
<ul><li><code class="inline">{ok, {ModuleName, OutputPath}}</code> - Successfully written BEAM file</li><li><code class="inline">{error, Reason}</code> - File writing or compilation error</li></ul><h2 id="write_beam_module/2-example" class="section-heading">
  <a href="#write_beam_module/2-example" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Example</span>
</h2>
<pre><code class="makeup erlang" translate="no"><span class="p" data-group-id="1490211477-1">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="n">CompiledModule</span><span class="p" data-group-id="1490211477-1">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">cure_codegen</span><span class="p">:</span><span class="nf">compile_module</span><span class="p" data-group-id="1490211477-2">(</span><span class="n">AST</span><span class="p" data-group-id="1490211477-2">)</span><span class="p">,</span><span class="w">
</span><span class="p" data-group-id="1490211477-3">{</span><span class="ss">ok</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1490211477-4">{</span><span class="n">MyModule</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MyModule.beam&quot;</span><span class="p" data-group-id="1490211477-4">}</span><span class="p" data-group-id="1490211477-3">}</span><span class="w"> </span><span class="o">=</span><span class="w"> 
    </span><span class="nc">cure_codegen</span><span class="p">:</span><span class="nf">write_beam_module</span><span class="p" data-group-id="1490211477-5">(</span><span class="n">CompiledModule</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MyModule.beam&quot;</span><span class="p" data-group-id="1490211477-5">)</span><span class="p">,</span><span class="w">

</span><span class="c1">%% Load and test the module</span><span class="w">
</span><span class="nc">code</span><span class="p">:</span><span class="nf">load_file</span><span class="p" data-group-id="1490211477-6">(</span><span class="n">MyModule</span><span class="p" data-group-id="1490211477-6">)</span><span class="p">,</span><span class="w">
</span><span class="n">MyModule</span><span class="p">:</span><span class="nf">function_name</span><span class="p" data-group-id="1490211477-7">(</span><span class="ss">args</span><span class="p" data-group-id="1490211477-7">)</span><span class="p">.</span></code></pre><h2 id="write_beam_module/2-use-cases" class="section-heading">
  <a href="#write_beam_module/2-use-cases" class="hover-link">
    <i class="ri-link-m" aria-hidden="true"></i>
  </a>
  <span class="text">Use Cases</span>
</h2>
<ul><li>Final step in Cure compilation pipeline</li><li>Integration with build systems and tools</li><li>Deployment of Cure modules to BEAM environments</li><li>Testing and development workflows</li></ul>
  </section>
</section>

    </div>
  </section>

    <footer class="footer">
      <p>

          <span class="line">
            <a href="https://hex.pm/packages/cure/0.1.0" class="footer-hex-package">Hex Package</a>

            <a href="https://preview.hex.pm/preview/cure/0.1.0">Hex Preview</a>

          </span>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

            <a href="cure.epub" title="ePub version">
              Download ePub version
            </a>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.35.1) for the

          <a href="https://erlang.org" title="Erlang" target="_blank" translate="no">Erlang programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
