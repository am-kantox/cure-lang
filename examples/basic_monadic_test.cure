def double(x):
    x * 2

def add_ten(x):
    x + 10

def main():
    println("Basic pipe test")
    let result1 = 5 |> double
    println(result1)
    
    println("Chaining test")
    let result2 = 3 |> double |> add_ten
    println(result2)
    
    println("Ok value test")
    let ok_val = ok(20)
    let result3 = ok_val |> double
    println(result3)
    
    println("Error test")
    let error_val = error("test error")
    let result4 = error_val |> double
    println(result4)
    
    println("Pattern matching test")
    let result5 = 10 |> double
    match result5 do
        Ok(value) -> println("Pattern match success")
        Error(reason) -> println("Pattern match error")
    end
    
    println("Tests completed")