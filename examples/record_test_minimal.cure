module RecordTestMinimal do
  export [main/0, test_match/1]

  record Employee do
    id: Int
    name: String
    salary: Float
    active: Bool
  end

  def deactivate(emp: Employee): Employee =
    Employee{emp | active: false}

  def test_match(emp: Employee): Bool =
    match emp do
      Employee{id: _, name: _, salary: _, active: a} -> a
    end

  def main(): Unit =
    let emp = Employee{id: 3, name: "Frank", salary: 50000.0, active: false}
    let emp_deact = deactivate(emp)
    let status = test_match(emp_deact)
    status
end
