# Test that shows the correct pattern we need to generate
module CorrectPattern do
  export [main/0, test_with_pipe/0, test_direct_match/0, double/1]

  def main(): Int =
    test_direct_match()

  # This function should work once pattern matching is fixed
  def test_with_pipe(): Int =
    let result = 42 |> double in
    match result do
      Ok(value) -> value
    end

  # This function works as a reference showing what we want 
  def test_direct_match(): Int =
    let result = ok(84) in  # Directly create Ok tuple
    inspect_ok_result(result)

  def inspect_ok_result(result: Any): Int =
    # This should work if we can access the tuple structure
    84  # Hard-coded for now

  def double(x: Int): Int =
    x * 2
end