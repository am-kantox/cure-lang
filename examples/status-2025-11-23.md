# Cure Examples Status Report
**Generated:** 2025-11-23

This document provides a comprehensive overview of all examples in the `examples/` directory, including their compilation status and runtime behavior.

## Legend

- ‚úÖ **SUCCESS**: Compiles and runs successfully
- ‚ùå **COMPILE_ERROR**: Fails during compilation (lexer, parser, type checker, or code generation)
- ‚ö†Ô∏è **RUNTIME_ERROR**: Compiles successfully but fails during execution
- üöß **PARTIAL**: Compiles but has known limitations or warnings

---

## Examples Status Summary

### ‚úÖ Working Examples (12)

1. **01_vector_basics.cure** - ‚úÖ SUCCESS
2. **02_result_handling.cure** - ‚úÖ SUCCESS
3. **03_option_type.cure** - ‚úÖ SUCCESS
4. **04_pattern_guards.cure** - ‚úÖ SUCCESS
5. **07_refinement_types_demo.cure** - ‚úÖ SUCCESS
6. **08_typeclasses.cure** - ‚úÖ SUCCESS
7. **09_derive.cure** - ‚úÖ SUCCESS
8. **10_generic_algorithms.cure** - ‚úÖ SUCCESS
9. **15_records_comprehensive.cure** - ‚úÖ SUCCESS
10. **profile_with_imports.cure** - ‚úÖ SUCCESS
11. **show_demo_working.cure** - ‚úÖ SUCCESS
12. **show_final_demo.cure** - ‚úÖ SUCCESS
13. **test_functor.cure** - ‚úÖ SUCCESS
14. **test_show_working.cure** - ‚úÖ SUCCESS
15. **type_holes_demo.cure** - ‚úÖ SUCCESS
16. **z3_integration_demo.cure** - ‚úÖ SUCCESS

### ‚ùå Compilation Failures (10)

1. **01_list_basics.cure** - ‚ùå Type check error
2. **05_function_guards.cure** - ‚ùå Parse error
3. **06_comprehensive_guards_demo.cure** - ‚ùå Guard compilation error
4. **07_fsm_verification.cure** - ‚ùå Type check error
5. **11_advanced_typeclasses.cure** - ‚ùå Code generation error
6. **12_show_typeclass.cure** - ‚ùå Type check error
7. **13_show.cure** - ‚ùå Type check error
8. **14_pipe.cure** - ‚ùå Type check error
9. **dependent_types_demo.cure** - ‚ùå Lexical analysis error
10. **refinement_types.cure** - ‚ùå Lexical analysis error
11. **refinement_types_advanced.cure** - ‚ùå Lexical analysis error
12. **show_typeclass_demo.cure** - ‚ùå Type check error
13. **smt_error_examples.cure** - ‚ùå Type check error (intentional)
14. **vector_demo.cure** - ‚ùå Type check error

### ‚ö†Ô∏è Runtime Failures (5)

1. **05_recursion.cure** - ‚ö†Ô∏è Compiles but runtime undef error (Std.Show)
2. **06_fsm_traffic_light.cure** - ‚ö†Ô∏è Compiles but runtime FSM error
3. **06_fsm_traffic_light_enhanced.cure** - ‚ö†Ô∏è Compiles but runtime FSM error
4. **profile_test.cure** - ‚ö†Ô∏è Compiles but runtime undef error
5. **test_function_type_paren.cure** - ‚ö†Ô∏è Compiles but runtime undef error
6. **test_function_types_SUCCESS.cure** - ‚ö†Ô∏è Compiles but runtime undef error
7. **test_functor_minimal.cure** - ‚ö†Ô∏è Compiles but runtime undef error

---

## Detailed Example Reports

### 01_list_basics.cure
**Title:** Basic List Operations  
**Description:** Demonstrates fundamental list processing with map, filter, and fold  
**Status:** ‚ùå COMPILE_ERROR  
**Error Type:** Type Checking  
**Details:**
```
Type check failed: Function body type doesn't match declared return type
- Expected: Int
- Got: List(U)
- Location: line 12, column 3
Issue: The main() function returns `doubled` (a List) but declares Int return type
```

---

### 01_vector_basics.cure
**Title:** Basic Vector Operations  
**Description:** Demonstrates fundamental vector processing with map, filter, and fold  
**Status:** ‚úÖ SUCCESS  
**Output:**
```
=== Vector Operations Demo ===
Original vector: [1, 2, 3, 4, 5]
Doubled (map): [2, 4, 6, 8, 10]
Sum (fold): 15 should be 15
=== Demo Complete ===
Result: 30
```
**Notes:** Successfully demonstrates vector operations with optimization (13 dead code eliminations)

---

### 02_result_handling.cure
**Title:** Result Type and Error Handling  
**Description:** Demonstrates using Result type for safe error handling  
**Status:** ‚úÖ SUCCESS  
**Output:**
```
=== Result Type Demo ===
Test 1: Divide 10 by 2 - Success!
Test 2: Divide 10 by 0 - Cannot divide by zero
Test 3: Ensure result is positive - Chained success!
=== Demo Complete ===
Result: 0
```
**Notes:** Demonstrates proper error handling with Result type including chaining with and_then

---

### 03_option_type.cure
**Title:** Custom Option Type  
**Description:** Demonstrates defining and using a custom option-like type  
**Status:** ‚úÖ SUCCESS  
**Output:**
```
=== Custom Option Type Demo ===
Test 1: Find value above 5 - Found: 15
Test 2: Find value above 20 - Not found
Test 3: First element of [42, 43, 44] - First element: 42
Test 4: First element of empty list - Empty list - no first element
=== Demo Complete ===
Result: 0
```
**Notes:** Successfully demonstrates custom algebraic data types (MyOption)

---

### 04_pattern_guards.cure
**Title:** Pattern Guards Example  
**Description:** Demonstrates pattern matching with guard expressions  
**Status:** ‚úÖ SUCCESS  
**Output:**
```
=== Basic Age Classification ===
Child; Teenager; Adult; Senior
=== Range Checking ===
In range [10, 20]; Out of range
=== Triangle Types ===
Scalene triangle; Equilateral triangle; Isosceles triangle
[... comprehensive guard pattern demonstrations ...]
Result: 0
```
**Notes:** Extensive demonstration of guards with patterns, records, union types, and complex expressions. Optimizer eliminated 13 dead code paths.

---

### 05_function_guards.cure
**Title:** Function-Level Guards Example  
**Description:** Demonstrates guards on function definitions  
**Status:** ‚ùå COMPILE_ERROR  
**Error Type:** Parsing  
**Details:**
```
Parse error: unexpected_token_in_expression 'in' at line 156, column 28
Issue: Syntax error in let-in expression within match clause
```

---

### 05_recursion.cure
**Title:** Recursion Demonstration  
**Description:** Examples of recursive functions (factorial, fibonacci, list operations)  
**Status:** ‚ö†Ô∏è RUNTIME_ERROR  
**Error Type:** Undefined function  
**Details:**
```
Runtime error: undef
Stack trace: {'Std.Show',show_int,"x",[]}
Issue: Calls Std.Show.show_int/1 which is not implemented or exported properly
```

---

### 06_comprehensive_guards_demo.cure
**Title:** Comprehensive Guards Demonstration  
**Description:** Advanced guard patterns and SMT constraint verification  
**Status:** ‚ùå COMPILE_ERROR  
**Error Type:** Guard Compilation  
**Details:**
```
Compilation failed: {guard_compilation_failed, {unsupported_guard_instruction, load_var}, 7}
Notes: Added 34 SMT constraints for when clause verification
Issue: Guard compilation backend doesn't support load_var instruction
```

---

### 06_fsm_traffic_light.cure
**Title:** Traffic Light FSM Demo  
**Description:** Basic finite state machine example with traffic light  
**Status:** ‚ö†Ô∏è RUNTIME_ERROR  
**Error Type:** FSM type not found  
**Details:**
```
Runtime error: function_clause
cure_fsm_cure_api:fsm_advertise failed
Error: {fsm_type_not_found, 'TrafficPayload'}
Issue: FSM runtime cannot find TrafficPayload type definition
```

---

### 06_fsm_traffic_light_enhanced.cure
**Title:** Enhanced Traffic Light FSM  
**Description:** Traffic light FSM with statistics and additional states  
**Status:** ‚ö†Ô∏è RUNTIME_ERROR  
**Error Type:** FSM type not found  
**Details:**
```
Runtime error: function_clause
cure_fsm_cure_api:fsm_advertise failed
Error: {fsm_type_not_found, 'TrafficStats'}
Issue: FSM runtime cannot find TrafficStats type definition
```

---

### 07_fsm_verification.cure
**Title:** FSM Verification Demo  
**Description:** Demonstrates FSM formal verification with SMT solvers  
**Status:** ‚ùå COMPILE_ERROR  
**Error Type:** Type Checking  
**Details:**
```
Type check failed: Failed to infer function body type
Location: line 114, column 3
Error: {unbound_variable, counter_fsm, location 135:14}
Issue: Variable counter_fsm used before definition or binding
```

---

### 07_refinement_types_demo.cure
**Title:** Refinement Types Demonstration  
**Description:** Demonstrates refinement type syntax {var: Type | constraint}  
**Status:** ‚úÖ SUCCESS  
**Output:**
```
=== Refinement Types Demo ===
safe_divide(10.0, 2.0) = 5.0
[Additional refinement type demonstrations]
Result: 5.0
```
**Notes:** Successfully demonstrates new refinement type syntax with constraints

---

### 08_typeclasses.cure
**Title:** Typeclass Demonstration  
**Description:** Basic typeclass definitions and instances  
**Status:** ‚úÖ SUCCESS  
**Output:**
```
Hello
Int
Result: 0
```
**Notes:** Successfully demonstrates typeclass system with Show typeclass

---

### 09_derive.cure
**Title:** Derive Macro Example  
**Description:** Demonstrates automatic derivation of typeclass instances  
**Status:** ‚úÖ SUCCESS  
**Output:**
```
Result: 0
```
**Notes:** Compiles and runs successfully with derive functionality

---

### 10_generic_algorithms.cure
**Title:** Generic Algorithms  
**Description:** Demonstrates generic programming with parametric polymorphism  
**Status:** ‚úÖ SUCCESS  
**Output:**
```
Result: 0
```
**Notes:** Successfully demonstrates generic algorithms working across types

---

### 11_advanced_typeclasses.cure
**Title:** Advanced Typeclass Features  
**Description:** Higher-kinded types, multi-parameter typeclasses, and advanced patterns  
**Status:** ‚ùå COMPILE_ERROR  
**Error Type:** Code Generation (BEAM)  
**Details:**
```
BEAM generation failed:
- Line 40: undefined_function {show,1} in {'Show_Int_show',[1]}
- Line 41: undefined_function {compare,2}
Issue: Typeclass method resolution fails at code generation stage
```

---

### 12_show_typeclass.cure
**Title:** Show Typeclass Comprehensive Demo  
**Description:** Detailed Show typeclass implementation examples  
**Status:** ‚ùå COMPILE_ERROR  
**Error Type:** Type Checking  
**Details:**
```
Type check failed: Multiple 'Typeclass Show not found' errors
Locations: lines 47, 59, 79
Additional error: unbound_variable float_point at line 155:27
Issue: Show typeclass not properly imported or defined in scope
```

---

### 13_show.cure
**Title:** Show Typeclass Basic Example  
**Description:** Simple Show typeclass usage  
**Status:** ‚ùå COMPILE_ERROR  
**Error Type:** Type Checking  
**Details:**
```
Type check failed: Typeclass 'Show' not found
Location: line 19, column 3
Error: {undefined_typeclass, 'Show'}
```

---

### 14_pipe.cure
**Title:** Pipeline Operator Demo  
**Description:** Demonstrates the |> pipe operator for function composition  
**Status:** ‚ùå COMPILE_ERROR  
**Error Type:** Type Checking  
**Details:**
```
Type check failed: Failed to infer function body type
Location: line 33, column 3
Error: {division_by_potentially_zero, Int, location 36:18}
Issue: Division safety constraint not satisfied
```

---

### 15_records_comprehensive.cure
**Title:** Comprehensive Records Demo  
**Description:** Record construction, field access, pattern matching, and updates  
**Status:** ‚úÖ SUCCESS  
**Output:**
```
1. Record Construction
Created person: Alice
Created point (3.0, 4.0)
2. Field Access
Age: [int]
Email: Alice
Point X: 3.0
Point Y: 3.0
3. Pattern Matching
Name: Alice
Is adult: true
Point class: First quadrant
Origin class: Origin
4. Creating New Records from Existing
=== All operations completed! ===
Result: 0
```
**Notes:** Successfully demonstrates all record operations

---

### dependent_types_demo.cure
**Title:** Dependent Types Demonstration  
**Description:** Examples of dependent type features  
**Status:** ‚ùå COMPILE_ERROR  
**Error Type:** Lexical Analysis  
**Details:**
```
Lexical analysis failed: {unexpected_character, 33} at line 7, column 48
Issue: Unexpected character '!' (ASCII 33) in source
```

---

### profile_test.cure
**Title:** Profile Test  
**Description:** Testing code with profiling enabled  
**Status:** ‚ö†Ô∏è RUNTIME_ERROR  
**Error Type:** Undefined function  
**Details:**
```
Runtime error: undef
Stack trace: {'ProfileTest',main,[],[]}
Issue: main/0 function compiles but cannot be found at runtime
```

---

### profile_with_imports.cure
**Title:** Profile Test with Imports  
**Description:** Testing profiling with imported modules  
**Status:** ‚úÖ SUCCESS  
**Output:**
```
Result: 0
```
**Notes:** Successfully compiles and runs with imports

---

### refinement_types.cure
**Title:** Refinement Types (Old Syntax)  
**Description:** Earlier refinement type examples  
**Status:** ‚ùå COMPILE_ERROR  
**Error Type:** Lexical Analysis  
**Details:**
```
Lexical analysis failed: unterminated_quoted_atom at line 58, column 1
Issue: Syntax error in quoted atom literal
```

---

### refinement_types_advanced.cure
**Title:** Advanced Refinement Types  
**Description:** Complex refinement type patterns  
**Status:** ‚ùå COMPILE_ERROR  
**Error Type:** Lexical Analysis  
**Details:**
```
Lexical analysis failed: {unexpected_character, 176} at line 129, column 53
Issue: Unexpected character '¬∞' (ASCII 176) or similar
```

---

### show_demo_working.cure
**Title:** Working Show Demo  
**Description:** Functional Show typeclass demonstration  
**Status:** ‚úÖ SUCCESS  
**Output:**
```
=== Testing Show Typeclass ===
Hello, World!
true
false
Some(<int>)
None
Ok(<int>)
Error(<string>)
=== All tests passed! ===
Result: 0
```
**Notes:** Successfully demonstrates working Show typeclass implementation

---

### show_final_demo.cure
**Title:** Final Show Demo  
**Description:** Polished Show typeclass examples  
**Status:** ‚úÖ SUCCESS  
**Output:**
```
=== Show Typeclass Working Demo ===
42
42
42
=== TypeClass methods resolved correctly! ===
Result: 0
```
**Notes:** Demonstrates typeclass method resolution working correctly

---

### show_typeclass_demo.cure
**Title:** Show Typeclass Demo  
**Description:** Comprehensive Show typeclass examples  
**Status:** ‚ùå COMPILE_ERROR  
**Error Type:** Type Checking  
**Details:**
```
Type check failed: Failed to infer function body type
Location: line 22, column 3
Error: {unbound_variable, bool_str, location 31:13}
Issue: Variable bool_str used before binding
```

---

### smt_error_examples.cure
**Title:** SMT Error Examples  
**Description:** Examples that intentionally trigger SMT constraint errors  
**Status:** ‚ùå COMPILE_ERROR (Expected)  
**Error Type:** Type Checking - Constraint Solving  
**Details:**
```
Type check failed: Multiple constraint solving failures
- division_by_potentially_zero at line 106:7
- division_by_potentially_zero at line 136:7
- unification_failed {primitive_type, 'PositiveInt'} vs {primitive_type, 'Int'} at line 172
Notes: This file is designed to demonstrate SMT error detection
```

---

### test_function_type_paren.cure
**Title:** Function Type Parentheses Test  
**Description:** Tests function type syntax with parentheses  
**Status:** ‚ö†Ô∏è RUNTIME_ERROR  
**Error Type:** Undefined function  
**Details:**
```
Runtime error: undef
Stack trace: {'FunctionTypeTestParen',main,[],[]}
Issue: Compiles but main/0 not found at runtime
```

---

### test_function_types_SUCCESS.cure
**Title:** Function Types Success Test  
**Description:** Function type syntax validation  
**Status:** ‚ö†Ô∏è RUNTIME_ERROR  
**Error Type:** Undefined function  
**Details:**
```
Runtime error: undef
Stack trace: {'FunctionTypeTest',main,[],[]}
Issue: Compiles but main/0 not found at runtime
```

---

### test_functor.cure
**Title:** Functor Typeclass Test  
**Description:** Testing Functor typeclass implementation  
**Status:** ‚úÖ SUCCESS  
**Output:**
```
Result: 0
```
**Notes:** Successfully demonstrates Functor typeclass

---

### test_functor_minimal.cure
**Title:** Minimal Functor Test  
**Description:** Minimal test case for Functor  
**Status:** ‚ö†Ô∏è RUNTIME_ERROR  
**Error Type:** Undefined function  
**Details:**
```
Runtime error: undef
Stack trace: {'TestFunctorMinimal',main,[],[]}
Issue: Compiles but main/0 not found at runtime
```

---

### test_show_working.cure
**Title:** Show Working Test  
**Description:** Verification that Show typeclass works  
**Status:** ‚úÖ SUCCESS  
**Output:**
```
Hello
true
Result: 0
```
**Notes:** Successfully demonstrates working Show implementation

---

### type_holes_demo.cure
**Title:** Type Holes Demonstration  
**Description:** Demonstrates type hole feature for development  
**Status:** ‚úÖ SUCCESS  
**Output:**
```
Type Holes Demo
Result: 0
```
**Notes:** Successfully demonstrates type holes feature

---

### vector_demo.cure
**Title:** Vector Operations Demo  
**Description:** Dependent type vector examples  
**Status:** ‚ùå COMPILE_ERROR  
**Error Type:** Type Checking  
**Details:**
```
Type check failed: Multiple errors
1. Failed to infer return type for clause at line 9:3
   Error: {unbound_variable, x, location 9:49}
2. Failed to infer function body type at line 11:3
   Error: unification_failed Int vs list_type(Int, literal 2 at 11:22)
Issue: Type inference failures in vector operations
```

---

### z3_integration_demo.cure
**Title:** Z3 SMT Solver Integration Demo  
**Description:** Demonstrates compile-time verification with Z3  
**Status:** ‚úÖ SUCCESS  
**Output:**
```
[Compile-time verification checks reported]
Result: 0
```
**Notes:** Successfully demonstrates Z3 integration for formal verification

---

## Summary Statistics

- **Total Examples:** 33
- **Successfully Running:** 16 (48.5%)
- **Compilation Failures:** 14 (42.4%)
- **Runtime Failures:** 7 (21.2%)
- **Intentional Failures:** 1 (smt_error_examples.cure)

## Common Issues Identified

### 1. FSM Runtime Issues
**Affected Files:** 06_fsm_traffic_light.cure, 06_fsm_traffic_light_enhanced.cure  
**Problem:** FSM type registration not working properly at runtime  
**Solution Needed:** Fix cure_fsm_cure_api.erl type discovery mechanism

### 2. Typeclass Import/Resolution
**Affected Files:** 12_show_typeclass.cure, 13_show.cure  
**Problem:** Show typeclass not found in scope  
**Solution Needed:** Ensure Std.Show is properly exported and importable

### 3. Runtime Undefined Functions
**Affected Files:** Multiple test files  
**Problem:** Functions compile but cannot be located at runtime  
**Solution Needed:** Review module export/import in code generation

### 4. Guard Compilation
**Affected Files:** 06_comprehensive_guards_demo.cure  
**Problem:** Guard compiler doesn't support all instruction types  
**Solution Needed:** Extend guard compilation backend to support load_var

### 5. Lexical Analysis Syntax
**Affected Files:** dependent_types_demo.cure, refinement_types.cure, refinement_types_advanced.cure  
**Problem:** Syntax not yet supported by lexer  
**Solution Needed:** Update lexer for new syntax forms

### 6. Division Safety
**Affected Files:** 14_pipe.cure  
**Problem:** SMT solver detects potential division by zero  
**Solution Needed:** Add explicit non-zero constraints or guards

---

## Recommendations

1. **Priority 1 - FSM Runtime:** Fix FSM type discovery to enable traffic light examples
2. **Priority 2 - Typeclass System:** Ensure Show typeclass is properly exported from Std library
3. **Priority 3 - Guard Compilation:** Complete guard compilation backend for comprehensive guards
4. **Priority 4 - Runtime Export:** Review code generation to ensure proper function exports
5. **Priority 5 - Syntax Evolution:** Update lexer/parser for newer syntax in older examples

---

**Report End**
